(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{79612:function(e,s,a){Promise.resolve().then(a.bind(a,36341)),Promise.resolve().then(a.bind(a,33695))},33695:function(e,s,a){"use strict";a.d(s,{SearchInterface:function(){return M}});var l=a(15444),r=a(89300),i=a(99827),n=a(74678),t=a(2422),c=a(61335),d=a(92232),o=a(86765),h=a(62348),x=a(36661),m=a(22724),u=a(1125),j=a(26771),p=a(25076),v=a(42154);let N=(0,v.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),f=(0,v.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),g=(0,v.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var y=a(70362);let w=(0,v.Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),k=(0,v.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),b=(0,v.Z)("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),C=(0,v.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var S=a(41084);function T({searchType:e,results:s,isLoading:a,hasSearched:r}){if(a)return(0,l.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,s)=>(0,l.jsx)(i.Zb,{className:"animate-pulse",children:(0,l.jsx)(i.aY,{className:"p-4",children:(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("div",{className:"h-4 bg-muted rounded w-3/4"}),(0,l.jsx)("div",{className:"h-3 bg-muted rounded w-1/2"}),(0,l.jsx)("div",{className:"h-3 bg-muted rounded w-2/3"})]})})},s))});if(!r)return(0,l.jsx)("div",{className:"text-center py-12",children:(0,l.jsxs)("div",{className:"text-muted-foreground",children:[(0,l.jsxs)("div",{className:"mb-4",children:["casting-runs"===e&&(0,l.jsx)(h.Z,{className:"h-12 w-12 mx-auto opacity-50"}),"quality-inspections"===e&&(0,l.jsx)(x.Z,{className:"h-12 w-12 mx-auto opacity-50"}),"maintenance-records"===e&&(0,l.jsx)(m.Z,{className:"h-12 w-12 mx-auto opacity-50"}),"defect-records"===e&&(0,l.jsx)(y.Z,{className:"h-12 w-12 mx-auto opacity-50"}),"heat-numbers"===e&&(0,l.jsx)(u.Z,{className:"h-12 w-12 mx-auto opacity-50"}),"work-orders"===e&&(0,l.jsx)(j.Z,{className:"h-12 w-12 mx-auto opacity-50"})]}),(0,l.jsx)("p",{className:"text-lg font-medium",children:"Search foundry data"}),(0,l.jsx)("p",{className:"text-sm",children:"Enter search terms or apply filters to find records"})]})});if(0===s.length)return(0,l.jsx)("div",{className:"text-center py-12",children:(0,l.jsxs)("div",{className:"text-muted-foreground",children:[(0,l.jsx)(y.Z,{className:"h-12 w-12 mx-auto opacity-50 mb-4"}),(0,l.jsx)("p",{className:"text-lg font-medium",children:"No results found"}),(0,l.jsx)("p",{className:"text-sm",children:"Try adjusting your search terms or filters"})]})});let n=e=>(0,l.jsx)(i.Zb,{className:"hover:shadow-md transition-shadow",children:(0,l.jsx)(i.aY,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(h.Z,{className:"h-4 w-4 text-blue-600"}),(0,l.jsx)("h4",{className:"font-semibold",children:e.workOrder?.workOrderNumber||"Unknown WO"}),(0,l.jsxs)(c.C,{variant:"secondary",children:["Heat ",e.heatNumber?.heatNumber||"N/A"]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(w,{className:"h-3 w-3 text-muted-foreground"}),(0,l.jsx)("span",{children:new Date(e.castingDate).toLocaleDateString()})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(k,{className:"h-3 w-3 text-muted-foreground"}),(0,l.jsx)("span",{children:e.operatorId||"N/A"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(b,{className:"h-3 w-3 text-muted-foreground"}),(0,l.jsxs)("span",{children:[e.actualRpm||e.rpmSetting||"N/A"," RPM"]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(u.Z,{className:"h-3 w-3 text-muted-foreground"}),(0,l.jsxs)("span",{children:[e.pourTemperature||"N/A","\xb0C"]})]})]}),e.notes&&(0,l.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.notes})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,l.jsx)(c.C,{variant:"Completed"===e.status?"default":"secondary",children:e.status||"Unknown"}),(0,l.jsx)(S.default,{href:`/production/casting-run/${e.id}`,children:(0,l.jsx)(t.z,{variant:"ghost",size:"sm",children:(0,l.jsx)(C,{className:"h-3 w-3"})})})]})]})})},e.id),d=e=>(0,l.jsx)(i.Zb,{className:"hover:shadow-md transition-shadow",children:(0,l.jsx)(i.aY,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(x.Z,{className:"h-4 w-4 text-green-600"}),(0,l.jsxs)("h4",{className:"font-semibold",children:["Inspection #",e.id]}),(0,l.jsx)(c.C,{variant:"Pass"===e.passFailStatus?"default":"Fail"===e.passFailStatus?"destructive":"secondary",children:e.passFailStatus||"Unknown"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(w,{className:"h-3 w-3 text-muted-foreground"}),(0,l.jsx)("span",{children:new Date(e.inspectionDate).toLocaleDateString()})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(k,{className:"h-3 w-3 text-muted-foreground"}),(0,l.jsx)("span",{children:e.inspectorId||"N/A"})]}),(0,l.jsx)("div",{className:"flex items-center space-x-1",children:(0,l.jsxs)(c.C,{variant:1===e.overallRating?"default":2===e.overallRating?"secondary":"destructive",children:["Rating: ",e.overallRating||"N/A"]})}),(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:"text-xs text-muted-foreground",children:e.inspectionType||"Standard"})})]}),e.castingRun?.workOrder?.workOrderNumber&&(0,l.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Work Order: ",e.castingRun.workOrder.workOrderNumber]})]}),(0,l.jsx)(S.default,{href:`/quality/inspection/${e.id}`,children:(0,l.jsx)(t.z,{variant:"ghost",size:"sm",children:(0,l.jsx)(C,{className:"h-3 w-3"})})})]})})},e.id),o=e=>(0,l.jsx)(i.Zb,{className:"hover:shadow-md transition-shadow",children:(0,l.jsx)(i.aY,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(m.Z,{className:"h-4 w-4 text-orange-600"}),(0,l.jsx)("h4",{className:"font-semibold",children:e.spinnerEquipment?.equipmentModel||e.spinnerId}),(0,l.jsx)(c.C,{variant:"outline",children:e.maintenanceType||"Maintenance"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(w,{className:"h-3 w-3 text-muted-foreground"}),(0,l.jsx)("span",{children:new Date(e.maintenanceDate).toLocaleDateString()})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(k,{className:"h-3 w-3 text-muted-foreground"}),(0,l.jsx)("span",{children:e.technicianId||"N/A"})]}),(0,l.jsx)("div",{className:"flex items-center space-x-1",children:(0,l.jsxs)("span",{className:"text-xs",children:["Cost: $",e.cost||0]})}),(0,l.jsx)("div",{className:"flex items-center space-x-1",children:(0,l.jsx)(c.C,{variant:"Excellent"===e.conditionAfterService?"default":"Good"===e.conditionAfterService?"secondary":"destructive",children:e.conditionAfterService||"Unknown"})})]}),e.maintenancePerformed&&(0,l.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.maintenancePerformed})]}),(0,l.jsx)(S.default,{href:`/maintenance/record/${e.id}`,children:(0,l.jsx)(t.z,{variant:"ghost",size:"sm",children:(0,l.jsx)(C,{className:"h-3 w-3"})})})]})})},e.id),p=e=>(0,l.jsx)(i.Zb,{className:"hover:shadow-md transition-shadow border-l-4 border-l-red-500",children:(0,l.jsx)(i.aY,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(y.Z,{className:"h-4 w-4 text-red-600"}),(0,l.jsx)("h4",{className:"font-semibold",children:e.defectType||"Unknown Defect"}),(0,l.jsx)(c.C,{variant:"Minor"===e.defectSeverity?"secondary":(e.defectSeverity,"destructive"),children:e.defectSeverity||"Unknown"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-xs text-muted-foreground",children:"Location:"}),(0,l.jsx)("p",{children:e.defectLocation||"Not specified"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-xs text-muted-foreground",children:"Cost Impact:"}),(0,l.jsxs)("p",{children:["$",e.costImpact||0]})]}),(0,l.jsx)("div",{children:(0,l.jsx)(c.C,{variant:"Resolved"===e.status?"default":"secondary",children:e.status||"Open"})})]}),e.defectDescription&&(0,l.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.defectDescription})]}),(0,l.jsx)(S.default,{href:`/quality/defect/${e.id}`,children:(0,l.jsx)(t.z,{variant:"ghost",size:"sm",children:(0,l.jsx)(C,{className:"h-3 w-3"})})})]})})},e.id),v=e=>(0,l.jsx)(i.Zb,{className:"hover:shadow-md transition-shadow",children:(0,l.jsx)(i.aY,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(u.Z,{className:"h-4 w-4 text-red-600"}),(0,l.jsxs)("h4",{className:"font-semibold",children:["Heat ",e.heatNumber]}),(0,l.jsx)(c.C,{variant:"outline",children:e.alloyType?.alloyName||"Unknown Alloy"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(w,{className:"h-3 w-3 text-muted-foreground"}),(0,l.jsx)("span",{children:new Date(e.meltDate).toLocaleDateString()})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-xs text-muted-foreground",children:"Batch Size:"}),(0,l.jsxs)("p",{children:[e.batchSizeKg||0," kg"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-xs text-muted-foreground",children:"Furnace:"}),(0,l.jsx)("p",{children:e.furnaceId||"N/A"})]}),(0,l.jsx)("div",{children:(0,l.jsx)(c.C,{variant:"Approved"===e.status?"default":"secondary",children:e.status||"Pending"})})]}),e.qualityCertification&&(0,l.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Cert: ",e.qualityCertification]})]}),(0,l.jsx)(S.default,{href:`/production/heat/${e.id}`,children:(0,l.jsx)(t.z,{variant:"ghost",size:"sm",children:(0,l.jsx)(C,{className:"h-3 w-3"})})})]})})},e.id),N=e=>(0,l.jsx)(i.Zb,{className:"hover:shadow-md transition-shadow",children:(0,l.jsx)(i.aY,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(j.Z,{className:"h-4 w-4 text-purple-600"}),(0,l.jsx)("h4",{className:"font-semibold",children:e.workOrderNumber}),(0,l.jsx)(c.C,{variant:"High"===e.priorityLevel?"destructive":"Medium"===e.priorityLevel?"secondary":"outline",children:e.priorityLevel||"Medium"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(w,{className:"h-3 w-3 text-muted-foreground"}),(0,l.jsx)("span",{children:new Date(e.orderDate).toLocaleDateString()})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-xs text-muted-foreground",children:"Quantity:"}),(0,l.jsxs)("p",{children:[e.quantityOrdered||0," units"]})]}),(0,l.jsx)("div",{children:(0,l.jsx)(c.C,{variant:"Completed"===e.status?"default":"secondary",children:e.status||"Scheduled"})})]}),e.partSpecification&&(0,l.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.partSpecification})]}),(0,l.jsx)(S.default,{href:`/production/work-order/${e.id}`,children:(0,l.jsx)(t.z,{variant:"ghost",size:"sm",children:(0,l.jsx)(C,{className:"h-3 w-3"})})})]})})},e.id);return(0,l.jsxs)("div",{className:"space-y-4",children:[s.map(s=>{switch(e){case"casting-runs":return n(s);case"quality-inspections":return d(s);case"maintenance-records":return o(s);case"defect-records":return p(s);case"heat-numbers":return v(s);case"work-orders":return N(s);default:return null}}),s.length>10&&(0,l.jsx)("div",{className:"text-center py-4",children:(0,l.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing ",s.length," results"]})})]})}var Q=a(34635),Z=a(70489),A=a(33485);function I({searchType:e,filters:s,onFiltersChange:a,searchOptions:r}){let i=(e,l)=>{if("all"===l||""===l){let l={...s};delete l[e],a(l)}else a({...s,[e]:l})},c=Object.keys(s).length>0,d=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(Q._,{children:"Date Range"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(Q._,{className:"text-xs text-muted-foreground",children:"From"}),(0,l.jsx)(n.I,{type:"date",value:s.dateFrom||"",onChange:e=>i("dateFrom",e.target.value)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(Q._,{className:"text-xs text-muted-foreground",children:"To"}),(0,l.jsx)(n.I,{type:"date",value:s.dateTo||"",onChange:e=>i("dateTo",e.target.value)})]})]})]}),r?.workOrders&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(Q._,{children:"Work Order"}),(0,l.jsxs)(Z.Ph,{value:s.workOrderId||"all",onValueChange:e=>i("workOrderId",e),children:[(0,l.jsx)(Z.i4,{children:(0,l.jsx)(Z.ki,{placeholder:"All work orders"})}),(0,l.jsxs)(Z.Bw,{children:[(0,l.jsx)(Z.Ql,{value:"all",children:"All Work Orders"}),r.workOrders.map(e=>(0,l.jsx)(Z.Ql,{value:e.id,children:e.workOrderNumber},e.id))]})]})]}),r?.heatNumbers&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(Q._,{children:"Heat Number"}),(0,l.jsxs)(Z.Ph,{value:s.heatNumber||"all",onValueChange:e=>i("heatNumber",e),children:[(0,l.jsx)(Z.i4,{children:(0,l.jsx)(Z.ki,{placeholder:"All heat numbers"})}),(0,l.jsxs)(Z.Bw,{children:[(0,l.jsx)(Z.Ql,{value:"all",children:"All Heat Numbers"}),r.heatNumbers.map(e=>(0,l.jsxs)(Z.Ql,{value:e.heatNumber,children:[e.heatNumber," (",e.alloyType.alloyName,")"]},e.heatNumber))]})]})]}),r?.alloyTypes&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(Q._,{children:"Alloy Type"}),(0,l.jsxs)(Z.Ph,{value:s.alloyType||"all",onValueChange:e=>i("alloyType",e),children:[(0,l.jsx)(Z.i4,{children:(0,l.jsx)(Z.ki,{placeholder:"All alloy types"})}),(0,l.jsxs)(Z.Bw,{children:[(0,l.jsx)(Z.Ql,{value:"all",children:"All Alloy Types"}),r.alloyTypes.map(e=>(0,l.jsxs)(Z.Ql,{value:e.id,children:[e.id," - ",e.alloyName]},e.id))]})]})]})]}),o=()=>(0,l.jsxs)(l.Fragment,{children:[d(),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(Q._,{children:"Operator ID"}),(0,l.jsx)(n.I,{placeholder:"e.g., OP001",value:s.operatorId||"",onChange:e=>i("operatorId",e.target.value)})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(Q._,{children:"RPM Range"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,l.jsx)(n.I,{type:"number",placeholder:"Min RPM",value:s.rpmMin||"",onChange:e=>i("rpmMin",e.target.value)}),(0,l.jsx)(n.I,{type:"number",placeholder:"Max RPM",value:s.rpmMax||"",onChange:e=>i("rpmMax",e.target.value)})]})]})]}),h=()=>(0,l.jsxs)(l.Fragment,{children:[d(),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(Q._,{children:"Inspector ID"}),(0,l.jsx)(n.I,{placeholder:"e.g., QA001",value:s.inspectorId||"",onChange:e=>i("inspectorId",e.target.value)})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(Q._,{children:"Quality Rating"}),(0,l.jsxs)(Z.Ph,{value:s.qualityRating||"all",onValueChange:e=>i("qualityRating",e),children:[(0,l.jsx)(Z.i4,{children:(0,l.jsx)(Z.ki,{placeholder:"All ratings"})}),(0,l.jsxs)(Z.Bw,{children:[(0,l.jsx)(Z.Ql,{value:"all",children:"All Ratings"}),(0,l.jsx)(Z.Ql,{value:"1",children:"1 - Excellent"}),(0,l.jsx)(Z.Ql,{value:"2",children:"2 - Acceptable"}),(0,l.jsx)(Z.Ql,{value:"3",children:"3 - Needs Attention"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(Q._,{children:"Pass/Fail Status"}),(0,l.jsxs)(Z.Ph,{value:s.passFailStatus||"all",onValueChange:e=>i("passFailStatus",e),children:[(0,l.jsx)(Z.i4,{children:(0,l.jsx)(Z.ki,{placeholder:"All statuses"})}),(0,l.jsxs)(Z.Bw,{children:[(0,l.jsx)(Z.Ql,{value:"all",children:"All Statuses"}),(0,l.jsx)(Z.Ql,{value:"Pass",children:"Pass"}),(0,l.jsx)(Z.Ql,{value:"Fail",children:"Fail"}),(0,l.jsx)(Z.Ql,{value:"Conditional",children:"Conditional"})]})]})]})]}),x=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(Q._,{children:"Date Range"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(Q._,{className:"text-xs text-muted-foreground",children:"From"}),(0,l.jsx)(n.I,{type:"date",value:s.dateFrom||"",onChange:e=>i("dateFrom",e.target.value)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(Q._,{className:"text-xs text-muted-foreground",children:"To"}),(0,l.jsx)(n.I,{type:"date",value:s.dateTo||"",onChange:e=>i("dateTo",e.target.value)})]})]})]}),r?.equipment&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(Q._,{children:"Equipment"}),(0,l.jsxs)(Z.Ph,{value:s.equipmentId||"all",onValueChange:e=>i("equipmentId",e),children:[(0,l.jsx)(Z.i4,{children:(0,l.jsx)(Z.ki,{placeholder:"All equipment"})}),(0,l.jsxs)(Z.Bw,{children:[(0,l.jsx)(Z.Ql,{value:"all",children:"All Equipment"}),r.equipment.map(e=>(0,l.jsxs)(Z.Ql,{value:e.id,children:[e.id," - ",e.equipmentModel]},e.id))]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(Q._,{children:"Maintenance Type"}),(0,l.jsxs)(Z.Ph,{value:s.maintenanceType||"all",onValueChange:e=>i("maintenanceType",e),children:[(0,l.jsx)(Z.i4,{children:(0,l.jsx)(Z.ki,{placeholder:"All types"})}),(0,l.jsxs)(Z.Bw,{children:[(0,l.jsx)(Z.Ql,{value:"all",children:"All Types"}),(0,l.jsx)(Z.Ql,{value:"Routine Inspection",children:"Routine Inspection"}),(0,l.jsx)(Z.Ql,{value:"Preventive Maintenance",children:"Preventive Maintenance"}),(0,l.jsx)(Z.Ql,{value:"Corrective Maintenance",children:"Corrective Maintenance"}),(0,l.jsx)(Z.Ql,{value:"Bearing Replacement",children:"Bearing Replacement"}),(0,l.jsx)(Z.Ql,{value:"Emergency Repair",children:"Emergency Repair"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(Q._,{children:"Technician ID"}),(0,l.jsx)(n.I,{placeholder:"e.g., TECH001",value:s.technicianId||"",onChange:e=>i("technicianId",e.target.value)})]})]}),m=()=>(0,l.jsxs)(l.Fragment,{children:[d(),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(Q._,{children:"Defect Type"}),(0,l.jsxs)(Z.Ph,{value:s.defectType||"all",onValueChange:e=>i("defectType",e),children:[(0,l.jsx)(Z.i4,{children:(0,l.jsx)(Z.ki,{placeholder:"All defect types"})}),(0,l.jsxs)(Z.Bw,{children:[(0,l.jsx)(Z.Ql,{value:"all",children:"All Defect Types"}),(0,l.jsx)(Z.Ql,{value:"Porosity",children:"Porosity"}),(0,l.jsx)(Z.Ql,{value:"Inclusion",children:"Inclusion"}),(0,l.jsx)(Z.Ql,{value:"Crack",children:"Crack"}),(0,l.jsx)(Z.Ql,{value:"Dimensional",children:"Dimensional"}),(0,l.jsx)(Z.Ql,{value:"Surface",children:"Surface"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(Q._,{children:"Severity"}),(0,l.jsxs)(Z.Ph,{value:s.defectSeverity||"all",onValueChange:e=>i("defectSeverity",e),children:[(0,l.jsx)(Z.i4,{children:(0,l.jsx)(Z.ki,{placeholder:"All severities"})}),(0,l.jsxs)(Z.Bw,{children:[(0,l.jsx)(Z.Ql,{value:"all",children:"All Severities"}),(0,l.jsx)(Z.Ql,{value:"Minor",children:"Minor"}),(0,l.jsx)(Z.Ql,{value:"Major",children:"Major"}),(0,l.jsx)(Z.Ql,{value:"Critical",children:"Critical"})]})]})]})]});return(0,l.jsxs)("div",{className:"space-y-4",children:[(()=>{switch(e){case"casting-runs":return o();case"quality-inspections":return h();case"maintenance-records":return x();case"defect-records":return m();case"heat-numbers":default:return d();case"work-orders":return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(Q._,{children:"Date Range"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(Q._,{className:"text-xs text-muted-foreground",children:"From"}),(0,l.jsx)(n.I,{type:"date",value:s.dateFrom||"",onChange:e=>i("dateFrom",e.target.value)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(Q._,{className:"text-xs text-muted-foreground",children:"To"}),(0,l.jsx)(n.I,{type:"date",value:s.dateTo||"",onChange:e=>i("dateTo",e.target.value)})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(Q._,{children:"Priority Level"}),(0,l.jsxs)(Z.Ph,{value:s.priorityLevel||"all",onValueChange:e=>i("priorityLevel",e),children:[(0,l.jsx)(Z.i4,{children:(0,l.jsx)(Z.ki,{placeholder:"All priorities"})}),(0,l.jsxs)(Z.Bw,{children:[(0,l.jsx)(Z.Ql,{value:"all",children:"All Priorities"}),(0,l.jsx)(Z.Ql,{value:"High",children:"High"}),(0,l.jsx)(Z.Ql,{value:"Medium",children:"Medium"}),(0,l.jsx)(Z.Ql,{value:"Low",children:"Low"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(Q._,{children:"Status"}),(0,l.jsxs)(Z.Ph,{value:s.status||"all",onValueChange:e=>i("status",e),children:[(0,l.jsx)(Z.i4,{children:(0,l.jsx)(Z.ki,{placeholder:"All statuses"})}),(0,l.jsxs)(Z.Bw,{children:[(0,l.jsx)(Z.Ql,{value:"all",children:"All Statuses"}),(0,l.jsx)(Z.Ql,{value:"Scheduled",children:"Scheduled"}),(0,l.jsx)(Z.Ql,{value:"In Progress",children:"In Progress"}),(0,l.jsx)(Z.Ql,{value:"Completed",children:"Completed"}),(0,l.jsx)(Z.Ql,{value:"On Hold",children:"On Hold"})]})]})]})]})}})(),c&&(0,l.jsxs)(t.z,{variant:"outline",size:"sm",onClick:()=>{a({})},children:[(0,l.jsx)(A.Z,{className:"h-3 w-3 mr-1"}),"Clear All Filters"]})]})}function M(){let[e,s]=(0,r.useState)("casting-runs"),[a,v]=(0,r.useState)({searchType:"casting-runs",searchTerm:"",filters:{}}),[y,w]=(0,r.useState)([]),[k,b]=(0,r.useState)(!1),[C,S]=(0,r.useState)(null),[Q,Z]=(0,r.useState)(!1);(0,r.useEffect)(()=>{A()},[]),(0,r.useEffect)(()=>{v(s=>({...s,searchType:e}))},[e]);let A=async()=>{try{let e=await fetch("/api/search/options");if(e.ok){let s=await e.json();S(s)}}catch(e){console.error("Error fetching search options:",e)}},M=async()=>{if(a.searchType){b(!0);try{let e=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(e.ok){let s=await e.json();w(s),Z(!0)}else console.error("Search failed"),w([])}catch(e){console.error("Error performing search:",e),w([])}finally{b(!1)}}},P=async()=>{if(0!==y.length)try{let e=await fetch("/api/search/export",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({searchType:a.searchType,results:y})});if(e.ok){let s=await e.blob(),l=window.URL.createObjectURL(s),r=document.createElement("a");r.style.display="none",r.href=l,r.download=`foundry-${a.searchType}-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(l)}}catch(e){console.error("Error exporting results:",e)}},R=[{id:"casting-runs",name:"Casting Runs",description:"Production data reports and casting records",icon:h.Z,count:"PDR Data"},{id:"quality-inspections",name:"Quality Inspections",description:"QA assessments and quality ratings",icon:x.Z,count:"QA Records"},{id:"maintenance-records",name:"Maintenance Records",description:"Equipment service and maintenance logs",icon:m.Z,count:"Service Logs"},{id:"defect-records",name:"Defect Records",description:"Quality issues and defect tracking",icon:x.Z,count:"Issues"},{id:"heat-numbers",name:"Heat Numbers",description:"Material batch and traceability records",icon:u.Z,count:"Batches"},{id:"work-orders",name:"Work Orders",description:"Job tracking and production scheduling",icon:j.Z,count:"Jobs"}];return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)(i.Zb,{children:[(0,l.jsxs)(i.Ol,{children:[(0,l.jsxs)(i.ll,{className:"flex items-center",children:[(0,l.jsx)(p.Z,{className:"h-5 w-5 mr-2"}),"Quick Search"]}),(0,l.jsx)(i.SZ,{children:"Search across all foundry data or use advanced filters below"})]}),(0,l.jsx)(i.aY,{children:(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(n.I,{placeholder:"Search work orders, heat numbers, operators, or any production data...",value:a.searchTerm,onChange:e=>v(s=>({...s,searchTerm:e.target.value})),onKeyPress:e=>"Enter"===e.key&&M()})}),(0,l.jsxs)(t.z,{onClick:M,disabled:k,children:[k?(0,l.jsx)(N,{className:"h-4 w-4 mr-2 animate-spin"}):(0,l.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Search"]}),(0,l.jsx)(t.z,{variant:"outline",onClick:()=>{v({searchType:e,searchTerm:"",filters:{}}),w([]),Z(!1)},children:"Clear"})]})})]}),(0,l.jsxs)(o.mQ,{value:e,onValueChange:s,children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)(o.dr,{className:"grid w-full grid-cols-6",children:R.map(e=>(0,l.jsxs)(o.SP,{value:e.id,className:"text-xs",children:[(0,l.jsx)(e.icon,{className:"h-3 w-3 mr-1"}),e.name]},e.id))}),Q&&y.length>0&&(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsxs)(c.C,{variant:"secondary",children:[y.length," results"]}),(0,l.jsxs)(t.z,{variant:"outline",size:"sm",onClick:P,children:[(0,l.jsx)(f,{className:"h-4 w-4 mr-1"}),"Export"]})]})]}),R.map(e=>(0,l.jsx)(o.nU,{value:e.id,children:(0,l.jsxs)("div",{className:"grid gap-6 lg:grid-cols-4",children:[(0,l.jsx)("div",{className:"lg:col-span-1",children:(0,l.jsxs)(i.Zb,{children:[(0,l.jsx)(i.Ol,{children:(0,l.jsxs)(i.ll,{className:"text-lg flex items-center",children:[(0,l.jsx)(g,{className:"h-4 w-4 mr-2"}),"Filters"]})}),(0,l.jsxs)(i.aY,{children:[(0,l.jsx)(I,{searchType:e.id,filters:a.filters,onFiltersChange:e=>v(s=>({...s,filters:e})),searchOptions:C}),(0,l.jsx)(d.Z,{className:"my-4"}),(0,l.jsxs)(t.z,{onClick:M,className:"w-full",disabled:k,children:[k?(0,l.jsx)(N,{className:"h-4 w-4 mr-2 animate-spin"}):(0,l.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Apply Filters"]})]})]})}),(0,l.jsx)("div",{className:"lg:col-span-3",children:(0,l.jsxs)(i.Zb,{children:[(0,l.jsxs)(i.Ol,{children:[(0,l.jsxs)(i.ll,{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(e.icon,{className:"h-5 w-5 mr-2"}),e.name]}),Q&&(0,l.jsxs)(c.C,{variant:"outline",children:[y.length," results"]})]}),(0,l.jsx)(i.SZ,{children:e.description})]}),(0,l.jsx)(i.aY,{children:(0,l.jsx)(T,{searchType:e.id,results:y,isLoading:k,hasSearched:Q})})]})})]})},e.id))]})]})}},92232:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});var l=a(15444),r=a(89300),i=a(71033),n=a(65522);let t=r.forwardRef(({className:e,orientation:s="horizontal",decorative:a=!0,...r},t)=>(0,l.jsx)(i.f,{ref:t,decorative:a,orientation:s,className:(0,n.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",e),...r}));t.displayName=i.f.displayName},70362:function(e,s,a){"use strict";a.d(s,{Z:function(){return l}});let l=(0,a(42154).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},71033:function(e,s,a){"use strict";a.d(s,{f:function(){return d}});var l=a(89300),r=a(57234),i=a(15444),n="horizontal",t=["horizontal","vertical"],c=l.forwardRef((e,s)=>{let{decorative:a,orientation:l=n,...c}=e,d=t.includes(l)?l:n;return(0,i.jsx)(r.WV.div,{"data-orientation":d,...a?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...c,ref:s})});c.displayName="Separator";var d=c}},function(e){e.O(0,[429,76,772,386,156,744],function(){return e(e.s=79612)}),_N_E=e.O()}]);