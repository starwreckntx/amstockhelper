(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{79837:function(e,s,t){Promise.resolve().then(t.bind(t,95473)),Promise.resolve().then(t.bind(t,36341))},95473:function(e,s,t){"use strict";t.d(s,{DashboardOverview:function(){return Q}});var a=t(15444),r=t(89300),n=t(99827),i=t(61335),l=t(2422),d=t(92232),c=t(25052),o=t(65522);let u=r.forwardRef(({className:e,value:s,...t},r)=>(0,a.jsx)(c.fC,{ref:r,className:(0,o.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...t,children:(0,a.jsx)(c.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));u.displayName=c.fC.displayName;var m=t(62348),x=t(64670),f=t(36661),h=t(26378),j=t(22724),p=t(66124),g=t(70362),b=t(62492),N=t(16629),y=t(48803),v=t(81909),w=t(58238),Z=t(5468),k=t(96516),C=t(86354),z=t(90817),R=t(59160);function S({data:e}){return e&&0!==e.length?(0,a.jsx)("div",{className:"h-64",children:(0,a.jsx)(y.h,{width:"100%",height:"100%",children:(0,a.jsxs)(v.w,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[(0,a.jsx)(w.q,{strokeDasharray:"3 3"}),(0,a.jsx)(Z.K,{dataKey:"date",tick:{fontSize:10},tickLine:!1}),(0,a.jsx)(k.B,{tick:{fontSize:10},tickLine:!1}),(0,a.jsx)(C.u,{}),(0,a.jsx)(z.D,{wrapperStyle:{fontSize:11}}),(0,a.jsx)(R.x,{type:"monotone",dataKey:"castings",stroke:"#60B5FF",strokeWidth:2,name:"Daily Castings"}),(0,a.jsx)(R.x,{type:"monotone",dataKey:"quality",stroke:"#FF9149",strokeWidth:2,name:"Avg Quality"})]})})}):(0,a.jsx)("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No production data available"})}var q=t(74272),D=t(89966),F=t(71639);let A=["#60B5FF","#FF9149","#FF9898"];function O({data:e}){return e&&0!==e.length?(0,a.jsx)("div",{className:"h-64",children:(0,a.jsx)(y.h,{width:"100%",height:"100%",children:(0,a.jsxs)(q.u,{children:[(0,a.jsx)(D.b,{data:e,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"count",label:({percentage:e})=>`${e.toFixed(1)}%`,children:e.map((e,s)=>(0,a.jsx)(F.b,{fill:A[s%A.length]},`cell-${s}`))}),(0,a.jsx)(C.u,{formatter:(e,s)=>[e,s]}),(0,a.jsx)(z.D,{verticalAlign:"top",wrapperStyle:{fontSize:11}})]})})}):(0,a.jsx)("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No quality data available"})}var Y=t(41084);function Q(){let[e,s]=(0,r.useState)(null),[t,c]=(0,r.useState)(!0);(0,r.useEffect)(()=>{o()},[]);let o=async()=>{try{let e=await fetch("/api/dashboard/stats");if(e.ok){let t=await e.json();s(t)}}catch(e){console.error("Error fetching dashboard stats:",e)}finally{c(!1)}};if(t)return(0,a.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(8)].map((e,s)=>(0,a.jsx)(n.Zb,{className:"animate-pulse",children:(0,a.jsxs)(n.aY,{className:"p-6",children:[(0,a.jsx)("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),(0,a.jsx)("div",{className:"h-8 bg-muted rounded w-1/2"})]})},s))});if(!e)return(0,a.jsx)(n.Zb,{children:(0,a.jsx)(n.aY,{className:"p-6",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Unable to load dashboard data"})})});let y=e.totalCastingRuns>0?(e.totalCastingRuns-e.totalDefects)/e.totalCastingRuns*100:100;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ll,{className:"text-sm font-medium",children:"Total Castings"}),(0,a.jsx)(m.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:e.totalCastingRuns}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,a.jsx)(x.Z,{className:"inline h-3 w-3 mr-1"}),"Active production runs"]})]})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ll,{className:"text-sm font-medium",children:"Quality Pass Rate"}),(0,a.jsx)(f.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[y.toFixed(1),"%"]}),(0,a.jsx)(u,{value:y,className:"mt-2"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[e.totalDefects," defects total"]})]})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ll,{className:"text-sm font-medium",children:"Avg Quality Rating"}),(0,a.jsx)(h.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:e.avgQualityRating.toFixed(1)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Scale 1-3 (1 = Excellent)"})]})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ll,{className:"text-sm font-medium",children:"Equipment Uptime"}),(0,a.jsx)(j.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[e.equipmentUtilization.toFixed(1),"%"]}),(0,a.jsx)(u,{value:e.equipmentUtilization,className:"mt-2"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"All equipment status"})]})]})]}),(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[(0,a.jsx)(n.ll,{children:"Production Trends"}),(0,a.jsx)(n.SZ,{children:"Daily casting volume and quality performance"})]}),(0,a.jsx)(n.aY,{children:(0,a.jsx)(S,{data:e.productionTrends})})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[(0,a.jsx)(n.ll,{children:"Quality Distribution"}),(0,a.jsx)(n.SZ,{children:"Quality rating breakdown across all castings"})]}),(0,a.jsx)(n.aY,{children:(0,a.jsx)(O,{data:e.qualityDistribution})})]})]}),(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,a.jsxs)(n.Zb,{className:"lg:col-span-2",children:[(0,a.jsxs)(n.Ol,{children:[(0,a.jsx)(n.ll,{children:"Equipment Status"}),(0,a.jsx)(n.SZ,{children:"Current status and utilization of all spinner equipment"})]}),(0,a.jsx)(n.aY,{children:(0,a.jsx)("div",{className:"space-y-4",children:e.equipmentStatus.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(j.Z,{className:"h-8 w-8 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["ID: ",e.id]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)(i.C,{variant:"Active"===e.status?"default":"Maintenance"===e.status?"destructive":"secondary",children:e.status}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[e.utilization,"% utilization"]})]})]},e.id))})})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[(0,a.jsx)(n.ll,{children:"Recent Activity"}),(0,a.jsx)(n.SZ,{children:"Latest production and quality events"})]}),(0,a.jsxs)(n.aY,{children:[(0,a.jsx)("div",{className:"space-y-4",children:e.recentActivity.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex-shrink-0",children:["completed"===e.status&&(0,a.jsx)(p.Z,{className:"h-4 w-4 text-green-600"}),"defect"===e.status&&(0,a.jsx)(g.Z,{className:"h-4 w-4 text-red-600"}),"in-progress"===e.status&&(0,a.jsx)(b.Z,{className:"h-4 w-4 text-blue-600"})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium truncate",children:e.description}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.time})]})]},e.id))}),(0,a.jsx)(d.Z,{className:"my-4"}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(Y.default,{href:"/search",children:(0,a.jsx)(l.z,{variant:"outline",size:"sm",children:"View All Activity"})})})]})]})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[(0,a.jsx)(n.ll,{children:"Quick Actions"}),(0,a.jsx)(n.SZ,{children:"Common tasks and data entry points"})]}),(0,a.jsx)(n.aY,{children:(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsx)(Y.default,{href:"/data-entry",children:(0,a.jsxs)(l.z,{variant:"outline",className:"w-full justify-start",children:[(0,a.jsx)(N.Z,{className:"mr-2 h-4 w-4"}),"New Casting Run"]})}),(0,a.jsx)(Y.default,{href:"/quality",children:(0,a.jsxs)(l.z,{variant:"outline",className:"w-full justify-start",children:[(0,a.jsx)(f.Z,{className:"mr-2 h-4 w-4"}),"Quality Inspection"]})}),(0,a.jsx)(Y.default,{href:"/maintenance",children:(0,a.jsxs)(l.z,{variant:"outline",className:"w-full justify-start",children:[(0,a.jsx)(j.Z,{className:"mr-2 h-4 w-4"}),"Equipment Maintenance"]})}),(0,a.jsx)(Y.default,{href:"/search",children:(0,a.jsxs)(l.z,{variant:"outline",className:"w-full justify-start",children:[(0,a.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),"Search & Query"]})})]})})]})]})}},36341:function(e,s,t){"use strict";t.d(s,{SimpleLayout:function(){return D}});var a=t(15444),r=t(89300),n=t(79047),i=t(41084),l=t(48001),d=t(2422),c=t(49095),o=t(2371),u=t(33485),m=t(65522);let x=c.fC,f=c.xz;c.x8;let h=c.h_,j=(0,o.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),p=r.forwardRef(({side:e="right",className:s,children:t,...r},n)=>(0,a.jsxs)(h,{children:[(0,a.jsx)(g,{}),(0,a.jsxs)(c.VY,{ref:n,className:(0,m.cn)(j({side:e}),s),...r,children:[t,(0,a.jsxs)(c.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));p.displayName=c.VY.displayName;let g=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(c.aV,{className:(0,m.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:t}));g.displayName=c.aV.displayName,r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(c.Dx,{ref:t,className:(0,m.cn)("text-lg font-semibold text-foreground",e),...s})).displayName=c.Dx.displayName,r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(c.dk,{ref:t,className:(0,m.cn)("text-sm text-muted-foreground",e),...s})).displayName=c.dk.displayName;var b=t(26378),N=t(62348),y=t(36661),v=t(22724),w=t(25076),Z=t(64670),k=t(27953),C=t(26771),z=t(6488),R=t(78503);let S=[{name:"Dashboard",href:"/dashboard",icon:b.Z},{name:"Production",href:"/production",icon:N.Z},{name:"Quality Control",href:"/quality",icon:y.Z},{name:"Maintenance",href:"/maintenance",icon:v.Z},{name:"Search & Query",href:"/search",icon:w.Z},{name:"Traceability",href:"/traceability",icon:Z.Z},{name:"Data Entry",href:"/data-entry",icon:k.Z},{name:"Reports",href:"/reports",icon:C.Z},{name:"Settings",href:"/settings",icon:z.Z}];function q(){let e=(0,n.usePathname)(),[s,t]=(0,r.useState)(!1);return(0,a.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,a.jsxs)("div",{className:"container flex h-16 items-center justify-between",children:[(0,a.jsx)(i.default,{href:"/dashboard",className:"flex items-center space-x-3",children:(0,a.jsx)("div",{className:"relative h-8 w-auto",children:(0,a.jsx)(l.default,{src:"/american-spincast-logo.png",alt:"American Spincast",width:200,height:32,className:"h-8 w-auto object-contain",priority:!0})})}),(0,a.jsx)("nav",{className:"hidden md:flex items-center space-x-6",children:S.map(s=>{let t=e===s.href;return(0,a.jsxs)(i.default,{href:s.href,className:`flex items-center space-x-1 text-sm font-medium transition-colors hover:text-primary ${t?"text-primary border-b-2 border-primary pb-1":"text-muted-foreground"}`,children:[(0,a.jsx)(s.icon,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:s.name})]},s.name)})}),(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsxs)(x,{open:s,onOpenChange:t,children:[(0,a.jsx)(f,{asChild:!0,className:"md:hidden",children:(0,a.jsx)(d.z,{variant:"ghost",size:"icon",children:(0,a.jsx)(R.Z,{className:"h-5 w-5"})})}),(0,a.jsx)(p,{side:"right",className:"w-[300px] sm:w-[400px]",children:(0,a.jsxs)("nav",{className:"flex flex-col space-y-4",children:[(0,a.jsx)("div",{className:"flex items-center space-x-2 pb-4 border-b",children:(0,a.jsx)("div",{className:"relative h-8 w-auto",children:(0,a.jsx)(l.default,{src:"/american-spincast-logo.png",alt:"American Spincast",width:200,height:32,className:"h-8 w-auto object-contain"})})}),S.map(s=>{let r=e===s.href;return(0,a.jsxs)(i.default,{href:s.href,onClick:()=>t(!1),className:`flex items-center space-x-3 text-sm font-medium p-2 rounded-md transition-colors ${r?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-primary/5"}`,children:[(0,a.jsx)(s.icon,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:s.name})]},s.name)})]})})]})})]})})}function D({children:e}){return(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)(q,{}),(0,a.jsx)("main",{className:"container mx-auto py-6 px-4",children:e})]})}},61335:function(e,s,t){"use strict";t.d(s,{C:function(){return l}});var a=t(15444);t(89300);var r=t(2371),n=t(65522);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:s,...t}){return(0,a.jsx)("div",{className:(0,n.cn)(i({variant:s}),e),...t})}},2422:function(e,s,t){"use strict";t.d(s,{z:function(){return c}});var a=t(15444),r=t(89300),n=t(21030),i=t(2371),l=t(65522);let d=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef(({className:e,variant:s,size:t,asChild:r=!1,...i},c)=>{let o=r?n.g7:"button";return(0,a.jsx)(o,{className:(0,l.cn)(d({variant:s,size:t,className:e})),ref:c,...i})});c.displayName="Button"},99827:function(e,s,t){"use strict";t.d(s,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return o},ll:function(){return d}});var a=t(15444),r=t(89300),n=t(65522);let i=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));i.displayName="Card";let l=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let d=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));d.displayName="CardTitle";let c=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));c.displayName="CardDescription";let o=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},92232:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});var a=t(15444),r=t(89300),n=t(71033),i=t(65522);let l=r.forwardRef(({className:e,orientation:s="horizontal",decorative:t=!0,...r},l)=>(0,a.jsx)(n.f,{ref:l,decorative:t,orientation:s,className:(0,i.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",e),...r}));l.displayName=n.f.displayName},65522:function(e,s,t){"use strict";t.d(s,{cn:function(){return n}});var a=t(32191),r=t(23607);function n(...e){return(0,r.m6)((0,a.W)(e))}}},function(e){e.O(0,[429,129,386,156,744],function(){return e(e.s=79837)}),_N_E=e.O()}]);