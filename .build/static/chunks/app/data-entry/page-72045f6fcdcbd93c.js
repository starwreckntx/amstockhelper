(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[601],{60048:function(e,s,r){Promise.resolve().then(r.bind(r,26794)),Promise.resolve().then(r.bind(r,36341))},26794:function(e,s,r){"use strict";r.d(s,{DataEntryHub:function(){return B}});var t=r(15444),a=r(89300),i=r(99827),l=r(86765),n=r(61335),c=r(62348),d=r(36661),o=r(22724),h=r(26771),m=r(1125),x=r(76636),u=r(2422),p=r(74678),j=r(34635),g=r(65522);let v=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("textarea",{className:(0,g.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));v.displayName="Textarea";var y=r(70489);let N=(0,r(2371).j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),b=a.forwardRef(({className:e,variant:s,...r},a)=>(0,t.jsx)("div",{ref:a,role:"alert",className:(0,g.cn)(N({variant:s}),e),...r}));b.displayName="Alert",a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("h5",{ref:r,className:(0,g.cn)("mb-1 font-medium leading-none tracking-tight",e),...s})).displayName="AlertTitle";let f=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,g.cn)("text-sm [&_p]:leading-relaxed",e),...s}));f.displayName="AlertDescription";var S=r(1946),I=r(66124),w=r(88382);let F=0,T=new Map,C=e=>{if(T.has(e))return;let s=setTimeout(()=>{T.delete(e),P({type:"REMOVE_TOAST",toastId:e})},1e6);T.set(e,s)},O=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=s;return r?C(r):e.toasts.forEach(e=>{C(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},R=[],k={toasts:[]};function P(e){k=O(k,e),R.forEach(e=>{e(k)})}function D({...e}){let s=(F=(F+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>P({type:"DISMISS_TOAST",toastId:s});return P({type:"ADD_TOAST",toast:{...e,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>P({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function Q(){let[e,s]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),[n,c]=(0,a.useState)(null),{register:d,handleSubmit:o,setValue:h,watch:m,reset:g,formState:{errors:N}}=(0,x.cI)();(0,a.useEffect)(()=>{F();let e=new Date;h("castingDate",e.toISOString().split("T")[0]),h("castingTime",e.toTimeString().split(" ")[0].slice(0,5)),h("status","Completed")},[h]);let F=async()=>{try{let e=await fetch("/api/data-entry/casting-run-options");if(e.ok){let s=await e.json();c(s)}}catch(e){console.error("Error fetching form options:",e)}},T=async e=>{s(!0),l(!1);try{let s=await fetch("/api/data-entry/casting-run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,heatId:parseInt(e.heatId),rpmSetting:parseInt(e.rpmSetting.toString()),actualRpm:parseInt(e.actualRpm.toString()),pourTemperature:parseFloat(e.pourTemperature.toString()),ambientTemperature:parseFloat(e.ambientTemperature.toString()),castingWeightKg:parseFloat(e.castingWeightKg.toString()),cycleTimeMinutes:parseInt(e.cycleTimeMinutes.toString()),operationalGravity:parseFloat(e.operationalGravity.toString())})});if(s.ok)l(!0),g(),D({title:"Casting Run Recorded",description:"Production data has been successfully saved."}),setTimeout(()=>l(!1),3e3);else{let e=await s.json();throw Error(e.error||"Failed to save casting run")}}catch(e){console.error("Error saving casting run:",e),D({title:"Error",description:e instanceof Error?e.message:"Failed to save casting run",variant:"destructive"})}finally{s(!1)}};return n?(0,t.jsxs)("form",{onSubmit:o(T),className:"space-y-6",children:[r&&(0,t.jsxs)(b,{className:"border-green-200 bg-green-50",children:[(0,t.jsx)(I.Z,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)(f,{className:"text-green-800",children:"Casting run data has been successfully recorded!"})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{className:"text-lg",children:"Job Information"})}),(0,t.jsxs)(i.aY,{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"workOrderId",children:"Work Order *"}),(0,t.jsxs)(y.Ph,{onValueChange:e=>h("workOrderId",e),children:[(0,t.jsx)(y.i4,{children:(0,t.jsx)(y.ki,{placeholder:"Select work order"})}),(0,t.jsx)(y.Bw,{children:n.workOrders.map(e=>(0,t.jsx)(y.Ql,{value:e.id,children:e.workOrderNumber},e.id))})]}),N.workOrderId&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:"Work order is required"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"heatId",children:"Heat Number *"}),(0,t.jsxs)(y.Ph,{onValueChange:e=>h("heatId",e),children:[(0,t.jsx)(y.i4,{children:(0,t.jsx)(y.ki,{placeholder:"Select heat number"})}),(0,t.jsx)(y.Bw,{children:n.heatNumbers.map(e=>(0,t.jsxs)(y.Ql,{value:e.id.toString(),children:[e.heatNumber," (",e.alloyType.alloyName,")"]},e.id))})]}),N.heatId&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:"Heat number is required"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"moldId",children:"Mold *"}),(0,t.jsxs)(y.Ph,{onValueChange:e=>h("moldId",e),children:[(0,t.jsx)(y.i4,{children:(0,t.jsx)(y.ki,{placeholder:"Select mold"})}),(0,t.jsx)(y.Bw,{children:n.molds.map(e=>(0,t.jsxs)(y.Ql,{value:e.id,children:[e.id," - ",e.moldType," (",e.castingSize,")"]},e.id))})]}),N.moldId&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:"Mold selection is required"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"spinnerId",children:"Spinner Equipment *"}),(0,t.jsxs)(y.Ph,{onValueChange:e=>h("spinnerId",e),children:[(0,t.jsx)(y.i4,{children:(0,t.jsx)(y.ki,{placeholder:"Select spinner"})}),(0,t.jsx)(y.Bw,{children:n.spinners.map(e=>(0,t.jsxs)(y.Ql,{value:e.id,children:[e.id," - ",e.equipmentModel]},e.id))})]}),N.spinnerId&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:"Spinner selection is required"})]})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{className:"text-lg",children:"Operational Details"})}),(0,t.jsxs)(i.aY,{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"shiftNumber",children:"Shift *"}),(0,t.jsxs)(y.Ph,{onValueChange:e=>h("shiftNumber",e),children:[(0,t.jsx)(y.i4,{children:(0,t.jsx)(y.ki,{placeholder:"Select shift"})}),(0,t.jsxs)(y.Bw,{children:[(0,t.jsx)(y.Ql,{value:"A",children:"Shift A (Day)"}),(0,t.jsx)(y.Ql,{value:"B",children:"Shift B (Evening)"}),(0,t.jsx)(y.Ql,{value:"C",children:"Shift C (Night)"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"operatorId",children:"Operator ID *"}),(0,t.jsx)(p.I,{id:"operatorId",placeholder:"e.g., OP001",...d("operatorId",{required:"Operator ID is required"})}),N.operatorId&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:N.operatorId.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"status",children:"Status"}),(0,t.jsxs)(y.Ph,{onValueChange:e=>h("status",e),children:[(0,t.jsx)(y.i4,{children:(0,t.jsx)(y.ki,{placeholder:"Select status"})}),(0,t.jsxs)(y.Bw,{children:[(0,t.jsx)(y.Ql,{value:"Completed",children:"Completed"}),(0,t.jsx)(y.Ql,{value:"In Progress",children:"In Progress"}),(0,t.jsx)(y.Ql,{value:"On Hold",children:"On Hold"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"castingDate",children:"Casting Date *"}),(0,t.jsx)(p.I,{id:"castingDate",type:"date",...d("castingDate",{required:"Casting date is required"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"castingTime",children:"Casting Time *"}),(0,t.jsx)(p.I,{id:"castingTime",type:"time",...d("castingTime",{required:"Casting time is required"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"packageInfo",children:"Package/Batch Info"}),(0,t.jsx)(p.I,{id:"packageInfo",placeholder:"e.g., Batch A-001",...d("packageInfo")})]})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{className:"text-lg",children:"Process Parameters"})}),(0,t.jsxs)(i.aY,{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"rpmSetting",children:"RPM Setting *"}),(0,t.jsx)(p.I,{id:"rpmSetting",type:"number",placeholder:"e.g., 650",...d("rpmSetting",{required:"RPM setting is required",min:{value:100,message:"RPM must be at least 100"},max:{value:1e3,message:"RPM must be less than 1000"}})}),N.rpmSetting&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:N.rpmSetting.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"actualRpm",children:"Actual RPM *"}),(0,t.jsx)(p.I,{id:"actualRpm",type:"number",placeholder:"e.g., 648",...d("actualRpm",{required:"Actual RPM is required",min:{value:100,message:"RPM must be at least 100"},max:{value:1e3,message:"RPM must be less than 1000"}})}),N.actualRpm&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:N.actualRpm.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"pourTemperature",children:"Pour Temperature (\xb0C) *"}),(0,t.jsx)(p.I,{id:"pourTemperature",type:"number",step:"0.1",placeholder:"e.g., 1495.5",...d("pourTemperature",{required:"Pour temperature is required",min:{value:1e3,message:"Temperature seems too low"},max:{value:2e3,message:"Temperature seems too high"}})}),N.pourTemperature&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:N.pourTemperature.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"ambientTemperature",children:"Ambient Temp (\xb0C)"}),(0,t.jsx)(p.I,{id:"ambientTemperature",type:"number",step:"0.1",placeholder:"e.g., 22.5",...d("ambientTemperature")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"castingWeightKg",children:"Casting Weight (kg) *"}),(0,t.jsx)(p.I,{id:"castingWeightKg",type:"number",step:"0.01",placeholder:"e.g., 23.75",...d("castingWeightKg",{required:"Casting weight is required",min:{value:.1,message:"Weight must be positive"}})}),N.castingWeightKg&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:N.castingWeightKg.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"cycleTimeMinutes",children:"Cycle Time (minutes)"}),(0,t.jsx)(p.I,{id:"cycleTimeMinutes",type:"number",placeholder:"e.g., 45",...d("cycleTimeMinutes",{min:{value:1,message:"Cycle time must be positive"}})}),N.cycleTimeMinutes&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:N.cycleTimeMinutes.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"operationalGravity",children:"Operational Gravity"}),(0,t.jsx)(p.I,{id:"operationalGravity",type:"number",step:"0.001",placeholder:"e.g., 7.850",...d("operationalGravity")})]})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{className:"text-lg",children:"Additional Notes"})}),(0,t.jsx)(i.aY,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"notes",children:"Production Notes"}),(0,t.jsx)(v,{id:"notes",placeholder:"Any additional observations, issues, or comments...",rows:3,...d("notes")})]})})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,t.jsx)(u.z,{type:"button",variant:"outline",onClick:()=>g(),disabled:e,children:"Clear Form"}),(0,t.jsx)(u.z,{type:"submit",disabled:e,children:e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.Z,{className:"mr-2 h-4 w-4"}),"Save Casting Run"]})})]})]}):(0,t.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,t.jsx)(S.Z,{className:"h-6 w-6 animate-spin mr-2"}),"Loading form options..."]})}function q(){let[e,s]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)([]),{register:o,handleSubmit:h,setValue:m,watch:g,reset:N,formState:{errors:F}}=(0,x.cI)(),T=g("overallRating"),C=g("surfaceQualityRating"),O=g("internalQualityRating");(0,a.useEffect)(()=>{R();let e=new Date;m("inspectionDate",e.toISOString().split("T")[0]),m("inspectionTime",e.toTimeString().split(" ")[0].slice(0,5)),m("inspectionType","Visual & Dimensional"),m("certificationLevel","Level 1")},[m]);let R=async()=>{try{let e=await fetch("/api/data-entry/casting-runs");if(e.ok){let s=await e.json();d(s)}}catch(e){console.error("Error fetching casting runs:",e)}},k=async e=>{s(!0),l(!1);try{let s=await fetch("/api/data-entry/quality-inspection",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,castingRunId:parseInt(e.castingRunId),overallRating:parseInt(e.overallRating.toString()),surfaceQualityRating:parseInt(e.surfaceQualityRating.toString()),internalQualityRating:parseInt(e.internalQualityRating.toString())})});if(s.ok)l(!0),N(),D({title:"Quality Inspection Recorded",description:"Inspection data has been successfully saved."}),setTimeout(()=>l(!1),3e3);else{let e=await s.json();throw Error(e.error||"Failed to save inspection")}}catch(e){console.error("Error saving inspection:",e),D({title:"Error",description:e instanceof Error?e.message:"Failed to save inspection",variant:"destructive"})}finally{s(!1)}},P=e=>1===e?"bg-green-500":2===e?"bg-yellow-500":3===e?"bg-red-500":"bg-gray-300",Q=e=>1===e?"Excellent":2===e?"Acceptable":3===e?"Needs Attention":"Not Rated";return(0,t.jsxs)("form",{onSubmit:h(k),className:"space-y-6",children:[r&&(0,t.jsxs)(b,{className:"border-green-200 bg-green-50",children:[(0,t.jsx)(I.Z,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)(f,{className:"text-green-800",children:"Quality inspection has been successfully recorded!"})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{className:"text-lg",children:"Inspection Details"})}),(0,t.jsxs)(i.aY,{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"castingRunId",children:"Casting Run *"}),(0,t.jsxs)(y.Ph,{onValueChange:e=>m("castingRunId",e),children:[(0,t.jsx)(y.i4,{children:(0,t.jsx)(y.ki,{placeholder:"Select casting run to inspect"})}),(0,t.jsx)(y.Bw,{children:c.map(e=>(0,t.jsxs)(y.Ql,{value:e.id.toString(),children:[e.workOrder.workOrderNumber," - Heat ",e.heatNumber.heatNumber,"(",new Date(e.castingDate).toLocaleDateString(),")"]},e.id))})]}),F.castingRunId&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:"Casting run selection is required"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"inspectorId",children:"Inspector ID *"}),(0,t.jsx)(p.I,{id:"inspectorId",placeholder:"e.g., QA001",...o("inspectorId",{required:"Inspector ID is required"})}),F.inspectorId&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:F.inspectorId.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"inspectionDate",children:"Inspection Date *"}),(0,t.jsx)(p.I,{id:"inspectionDate",type:"date",...o("inspectionDate",{required:"Inspection date is required"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"inspectionTime",children:"Inspection Time *"}),(0,t.jsx)(p.I,{id:"inspectionTime",type:"time",...o("inspectionTime",{required:"Inspection time is required"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"inspectionType",children:"Inspection Type *"}),(0,t.jsxs)(y.Ph,{onValueChange:e=>m("inspectionType",e),children:[(0,t.jsx)(y.i4,{children:(0,t.jsx)(y.ki,{placeholder:"Select inspection type"})}),(0,t.jsxs)(y.Bw,{children:[(0,t.jsx)(y.Ql,{value:"Visual & Dimensional",children:"Visual & Dimensional"}),(0,t.jsx)(y.Ql,{value:"Visual & NDT",children:"Visual & NDT"}),(0,t.jsx)(y.Ql,{value:"Full Inspection",children:"Full Inspection"}),(0,t.jsx)(y.Ql,{value:"Dimensional Only",children:"Dimensional Only"}),(0,t.jsx)(y.Ql,{value:"NDT Only",children:"NDT Only"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"certificationLevel",children:"Certification Level"}),(0,t.jsxs)(y.Ph,{onValueChange:e=>m("certificationLevel",e),children:[(0,t.jsx)(y.i4,{children:(0,t.jsx)(y.ki,{placeholder:"Select certification level"})}),(0,t.jsxs)(y.Bw,{children:[(0,t.jsx)(y.Ql,{value:"Level 1",children:"Level 1 - Standard"}),(0,t.jsx)(y.Ql,{value:"Level 2",children:"Level 2 - Enhanced"}),(0,t.jsx)(y.Ql,{value:"Level 3",children:"Level 3 - Critical"})]})]})]})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsx)(i.ll,{className:"text-lg",children:"Quality Assessment"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Rate each aspect: 1 = Excellent, 2 = Acceptable, 3 = Needs Attention"})]}),(0,t.jsxs)(i.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(j._,{htmlFor:"overallRating",children:"Overall Rating *"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(y.Ph,{onValueChange:e=>m("overallRating",parseInt(e)),children:[(0,t.jsx)(y.i4,{children:(0,t.jsx)(y.ki,{placeholder:"Select rating"})}),(0,t.jsxs)(y.Bw,{children:[(0,t.jsx)(y.Ql,{value:"1",children:"1 - Excellent"}),(0,t.jsx)(y.Ql,{value:"2",children:"2 - Acceptable"}),(0,t.jsx)(y.Ql,{value:"3",children:"3 - Needs Attention"})]})]}),T&&(0,t.jsx)(n.C,{className:`${P(T)} text-white`,children:Q(T)})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(j._,{htmlFor:"surfaceQualityRating",children:"Surface Quality *"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(y.Ph,{onValueChange:e=>m("surfaceQualityRating",parseInt(e)),children:[(0,t.jsx)(y.i4,{children:(0,t.jsx)(y.ki,{placeholder:"Select rating"})}),(0,t.jsxs)(y.Bw,{children:[(0,t.jsx)(y.Ql,{value:"1",children:"1 - Excellent"}),(0,t.jsx)(y.Ql,{value:"2",children:"2 - Acceptable"}),(0,t.jsx)(y.Ql,{value:"3",children:"3 - Needs Attention"})]})]}),C&&(0,t.jsx)(n.C,{className:`${P(C)} text-white`,children:Q(C)})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(j._,{htmlFor:"internalQualityRating",children:"Internal Quality *"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(y.Ph,{onValueChange:e=>m("internalQualityRating",parseInt(e)),children:[(0,t.jsx)(y.i4,{children:(0,t.jsx)(y.ki,{placeholder:"Select rating"})}),(0,t.jsxs)(y.Bw,{children:[(0,t.jsx)(y.Ql,{value:"1",children:"1 - Excellent"}),(0,t.jsx)(y.Ql,{value:"2",children:"2 - Acceptable"}),(0,t.jsx)(y.Ql,{value:"3",children:"3 - Needs Attention"})]})]}),O&&(0,t.jsx)(n.C,{className:`${P(O)} text-white`,children:Q(O)})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"passFailStatus",children:"Pass/Fail Status *"}),(0,t.jsxs)(y.Ph,{onValueChange:e=>m("passFailStatus",e),children:[(0,t.jsx)(y.i4,{children:(0,t.jsx)(y.ki,{placeholder:"Select pass/fail status"})}),(0,t.jsxs)(y.Bw,{children:[(0,t.jsx)(y.Ql,{value:"Pass",children:"Pass"}),(0,t.jsx)(y.Ql,{value:"Fail",children:"Fail"}),(0,t.jsx)(y.Ql,{value:"Conditional",children:"Conditional Pass"})]})]})]})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{className:"text-lg",children:"Actions and Notes"})}),(0,t.jsxs)(i.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"correctiveActions",children:"Corrective Actions"}),(0,t.jsx)(v,{id:"correctiveActions",placeholder:"Describe any corrective actions taken or required...",rows:3,...o("correctiveActions")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"notes",children:"Inspection Notes"}),(0,t.jsx)(v,{id:"notes",placeholder:"Additional observations, measurements, or comments...",rows:3,...o("notes")})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,t.jsx)(u.z,{type:"button",variant:"outline",onClick:()=>N(),disabled:e,children:"Clear Form"}),(0,t.jsx)(u.z,{type:"submit",disabled:e,children:e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.Z,{className:"mr-2 h-4 w-4"}),"Save Inspection"]})})]})]})}var _=r(39429),E=r(33485);function A(){let[e,s]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),[n,c]=(0,a.useState)([]),[d,o]=(0,a.useState)([]),{register:h,handleSubmit:m,setValue:g,watch:N,reset:F,formState:{errors:T}}=(0,x.cI)();(0,a.useEffect)(()=>{C(),g("maintenanceDate",new Date().toISOString().split("T")[0]),g("conditionAfterService","Good")},[g]);let C=async()=>{try{let e=await fetch("/api/data-entry/spinner-equipment");if(e.ok){let s=await e.json();c(s)}}catch(e){console.error("Error fetching spinners:",e)}},O=e=>{o(d.filter((s,r)=>r!==e))},R=(e,s,r)=>{let t=[...d];t[e]={...t[e],[s]:r},o(t)},k=async e=>{s(!0),l(!1);try{let s=await fetch("/api/data-entry/maintenance-record",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,currentRpm:parseInt(e.currentRpm.toString()),targetRpm:parseInt(e.targetRpm.toString()),vibrationLevel:parseFloat(e.vibrationLevel.toString()),temperatureReading:parseFloat(e.temperatureReading.toString()),cost:parseFloat(e.cost.toString()),partsReplaced:d.filter(e=>e.part&&e.partNumber)})});if(s.ok)l(!0),F(),o([]),D({title:"Maintenance Record Saved",description:"Maintenance data has been successfully recorded."}),setTimeout(()=>l(!1),3e3);else{let e=await s.json();throw Error(e.error||"Failed to save maintenance record")}}catch(e){console.error("Error saving maintenance record:",e),D({title:"Error",description:e instanceof Error?e.message:"Failed to save maintenance record",variant:"destructive"})}finally{s(!1)}};return(0,t.jsxs)("form",{onSubmit:m(k),className:"space-y-6",children:[r&&(0,t.jsxs)(b,{className:"border-green-200 bg-green-50",children:[(0,t.jsx)(I.Z,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)(f,{className:"text-green-800",children:"Maintenance record has been successfully saved!"})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{className:"text-lg",children:"Equipment and Service Details"})}),(0,t.jsxs)(i.aY,{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"spinnerId",children:"Spinner Equipment *"}),(0,t.jsxs)(y.Ph,{onValueChange:e=>g("spinnerId",e),children:[(0,t.jsx)(y.i4,{children:(0,t.jsx)(y.ki,{placeholder:"Select spinner equipment"})}),(0,t.jsx)(y.Bw,{children:n.map(e=>(0,t.jsxs)(y.Ql,{value:e.id,children:[e.id," - ",e.equipmentModel," (",e.currentCondition,")"]},e.id))})]}),T.spinnerId&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:"Equipment selection is required"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"technicianId",children:"Technician ID *"}),(0,t.jsx)(p.I,{id:"technicianId",placeholder:"e.g., TECH001",...h("technicianId",{required:"Technician ID is required"})}),T.technicianId&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:T.technicianId.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"maintenanceDate",children:"Maintenance Date *"}),(0,t.jsx)(p.I,{id:"maintenanceDate",type:"date",...h("maintenanceDate",{required:"Maintenance date is required"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"maintenanceType",children:"Maintenance Type *"}),(0,t.jsxs)(y.Ph,{onValueChange:e=>g("maintenanceType",e),children:[(0,t.jsx)(y.i4,{children:(0,t.jsx)(y.ki,{placeholder:"Select maintenance type"})}),(0,t.jsxs)(y.Bw,{children:[(0,t.jsx)(y.Ql,{value:"Routine Inspection",children:"Routine Inspection"}),(0,t.jsx)(y.Ql,{value:"Preventive Maintenance",children:"Preventive Maintenance"}),(0,t.jsx)(y.Ql,{value:"Corrective Maintenance",children:"Corrective Maintenance"}),(0,t.jsx)(y.Ql,{value:"Bearing Replacement",children:"Bearing Replacement"}),(0,t.jsx)(y.Ql,{value:"Lubrication Service",children:"Lubrication Service"}),(0,t.jsx)(y.Ql,{value:"Emergency Repair",children:"Emergency Repair"}),(0,t.jsx)(y.Ql,{value:"Overhaul",children:"Major Overhaul"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"nextServiceDate",children:"Next Service Date"}),(0,t.jsx)(p.I,{id:"nextServiceDate",type:"date",...h("nextServiceDate")})]})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{className:"text-lg",children:"Performance Measurements"})}),(0,t.jsxs)(i.aY,{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"currentRpm",children:"Current RPM"}),(0,t.jsx)(p.I,{id:"currentRpm",type:"number",placeholder:"e.g., 650",...h("currentRpm")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"targetRpm",children:"Target RPM"}),(0,t.jsx)(p.I,{id:"targetRpm",type:"number",placeholder:"e.g., 650",...h("targetRpm")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"vibrationLevel",children:"Vibration Level"}),(0,t.jsx)(p.I,{id:"vibrationLevel",type:"number",step:"0.001",placeholder:"e.g., 2.1",...h("vibrationLevel")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"temperatureReading",children:"Temperature Reading (\xb0C)"}),(0,t.jsx)(p.I,{id:"temperatureReading",type:"number",step:"0.1",placeholder:"e.g., 45.5",...h("temperatureReading")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"cost",children:"Maintenance Cost ($)"}),(0,t.jsx)(p.I,{id:"cost",type:"number",step:"0.01",placeholder:"e.g., 125.00",...h("cost")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"conditionAfterService",children:"Condition After Service"}),(0,t.jsxs)(y.Ph,{onValueChange:e=>g("conditionAfterService",e),children:[(0,t.jsx)(y.i4,{children:(0,t.jsx)(y.ki,{placeholder:"Select condition"})}),(0,t.jsxs)(y.Bw,{children:[(0,t.jsx)(y.Ql,{value:"Excellent",children:"Excellent"}),(0,t.jsx)(y.Ql,{value:"Good",children:"Good"}),(0,t.jsx)(y.Ql,{value:"Fair",children:"Fair"}),(0,t.jsx)(y.Ql,{value:"Poor",children:"Poor"})]})]})]})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsxs)(i.ll,{className:"text-lg flex items-center justify-between",children:["Parts Replaced",(0,t.jsxs)(u.z,{type:"button",variant:"outline",size:"sm",onClick:()=>{o([...d,{part:"",partNumber:"",quantity:1}])},children:[(0,t.jsx)(_.Z,{className:"h-4 w-4 mr-1"}),"Add Part"]})]})}),(0,t.jsx)(i.aY,{children:0===d.length?(0,t.jsx)("p",{className:"text-muted-foreground text-center py-4",children:'No parts replaced. Click "Add Part" to record replaced parts.'}):(0,t.jsx)("div",{className:"space-y-4",children:d.map((e,s)=>(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-4 items-end border p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{children:"Part Name"}),(0,t.jsx)(p.I,{placeholder:"e.g., Main bearing set",value:e.part,onChange:e=>R(s,"part",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{children:"Part Number"}),(0,t.jsx)(p.I,{placeholder:"e.g., BRG-2000-MS",value:e.partNumber,onChange:e=>R(s,"partNumber",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{children:"Quantity"}),(0,t.jsx)(p.I,{type:"number",min:"1",value:e.quantity,onChange:e=>R(s,"quantity",parseInt(e.target.value)||1)})]}),(0,t.jsx)(u.z,{type:"button",variant:"outline",size:"sm",onClick:()=>O(s),className:"text-red-600 hover:text-red-700",children:(0,t.jsx)(E.Z,{className:"h-4 w-4"})})]},s))})})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{className:"text-lg",children:"Work Performed and Notes"})}),(0,t.jsxs)(i.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"maintenancePerformed",children:"Maintenance Performed *"}),(0,t.jsx)(v,{id:"maintenancePerformed",placeholder:"Describe the maintenance work performed...",rows:3,...h("maintenancePerformed",{required:"Description of work is required"})}),T.maintenancePerformed&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:T.maintenancePerformed.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"notes",children:"Additional Notes"}),(0,t.jsx)(v,{id:"notes",placeholder:"Any additional observations or recommendations...",rows:3,...h("notes")})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,t.jsx)(u.z,{type:"button",variant:"outline",onClick:()=>{F(),o([])},disabled:e,children:"Clear Form"}),(0,t.jsx)(u.z,{type:"submit",disabled:e,children:e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.Z,{className:"mr-2 h-4 w-4"}),"Save Maintenance Record"]})})]})]})}function M(){let[e,s]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),{register:n,handleSubmit:c,setValue:d,watch:o,reset:h,formState:{errors:m}}=(0,x.cI)();(0,a.useEffect)(()=>{let e=new Date;d("orderDate",e.toISOString().split("T")[0]),d("status","Scheduled"),d("priorityLevel","Medium");let s=e.getFullYear().toString().slice(-2),r=(e.getMonth()+1).toString().padStart(2,"0"),t=e.getDate().toString().padStart(2,"0"),a=e.getTime().toString().slice(-3);d("workOrderNumber",`WO-${s}${r}${t}-${a}`),d("id",`${s}-${r}-${a}`)},[d]);let g=async e=>{s(!0),l(!1);try{let s=await fetch("/api/data-entry/work-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,customerId:parseInt(e.customerId.toString()),quantityOrdered:parseInt(e.quantityOrdered.toString())})});if(s.ok)l(!0),h(),D({title:"Work Order Created",description:"Work order has been successfully created."}),setTimeout(()=>l(!1),3e3);else{let e=await s.json();throw Error(e.error||"Failed to create work order")}}catch(e){console.error("Error creating work order:",e),D({title:"Error",description:e instanceof Error?e.message:"Failed to create work order",variant:"destructive"})}finally{s(!1)}};return(0,t.jsxs)("form",{onSubmit:c(g),className:"space-y-6",children:[r&&(0,t.jsxs)(b,{className:"border-green-200 bg-green-50",children:[(0,t.jsx)(I.Z,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)(f,{className:"text-green-800",children:"Work order has been successfully created!"})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{className:"text-lg",children:"Work Order Information"})}),(0,t.jsxs)(i.aY,{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"workOrderNumber",children:"Work Order Number *"}),(0,t.jsx)(p.I,{id:"workOrderNumber",...n("workOrderNumber",{required:"Work order number is required"}),readOnly:!0,className:"bg-muted"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"customerId",children:"Customer ID *"}),(0,t.jsx)(p.I,{id:"customerId",type:"number",placeholder:"e.g., 1001",...n("customerId",{required:"Customer ID is required",min:{value:1,message:"Customer ID must be positive"}})}),m.customerId&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:m.customerId.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"quantityOrdered",children:"Quantity Ordered *"}),(0,t.jsx)(p.I,{id:"quantityOrdered",type:"number",placeholder:"e.g., 5",...n("quantityOrdered",{required:"Quantity is required",min:{value:1,message:"Quantity must be at least 1"}})}),m.quantityOrdered&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:m.quantityOrdered.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"priorityLevel",children:"Priority Level"}),(0,t.jsxs)(y.Ph,{onValueChange:e=>d("priorityLevel",e),children:[(0,t.jsx)(y.i4,{children:(0,t.jsx)(y.ki,{placeholder:"Select priority"})}),(0,t.jsxs)(y.Bw,{children:[(0,t.jsx)(y.Ql,{value:"High",children:"High"}),(0,t.jsx)(y.Ql,{value:"Medium",children:"Medium"}),(0,t.jsx)(y.Ql,{value:"Low",children:"Low"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"orderDate",children:"Order Date *"}),(0,t.jsx)(p.I,{id:"orderDate",type:"date",...n("orderDate",{required:"Order date is required"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"dueDate",children:"Due Date"}),(0,t.jsx)(p.I,{id:"dueDate",type:"date",...n("dueDate")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"status",children:"Status"}),(0,t.jsxs)(y.Ph,{onValueChange:e=>d("status",e),children:[(0,t.jsx)(y.i4,{children:(0,t.jsx)(y.ki,{placeholder:"Select status"})}),(0,t.jsxs)(y.Bw,{children:[(0,t.jsx)(y.Ql,{value:"Scheduled",children:"Scheduled"}),(0,t.jsx)(y.Ql,{value:"In Progress",children:"In Progress"}),(0,t.jsx)(y.Ql,{value:"On Hold",children:"On Hold"}),(0,t.jsx)(y.Ql,{value:"Completed",children:"Completed"}),(0,t.jsx)(y.Ql,{value:"Cancelled",children:"Cancelled"})]})]})]})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{className:"text-lg",children:"Part Specifications"})}),(0,t.jsx)(i.aY,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"partSpecification",children:"Part Specification *"}),(0,t.jsx)(v,{id:"partSpecification",placeholder:"Detailed part specifications, dimensions, material requirements, quality standards, etc...",rows:4,...n("partSpecification",{required:"Part specification is required"})}),m.partSpecification&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:m.partSpecification.message})]})})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,t.jsx)(u.z,{type:"button",variant:"outline",onClick:()=>h(),disabled:e,children:"Clear Form"}),(0,t.jsx)(u.z,{type:"submit",disabled:e,children:e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.Z,{className:"mr-2 h-4 w-4"}),"Create Work Order"]})})]})]})}function Z(){let[e,s]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),[n,c]=(0,a.useState)([]),{register:d,handleSubmit:o,setValue:h,watch:m,reset:g,formState:{errors:v}}=(0,x.cI)();(0,a.useEffect)(()=>{N();let e=new Date;h("meltDate",e.toISOString().split("T")[0]),h("meltTime",e.toTimeString().split(" ")[0].slice(0,5)),h("status","Pending"),F()},[h]);let N=async()=>{try{let e=await fetch("/api/data-entry/alloy-types");if(e.ok){let s=await e.json();c(s)}}catch(e){console.error("Error fetching alloys:",e)}},F=async()=>{try{let e=await fetch("/api/data-entry/next-heat-number");if(e.ok){let s=await e.json();h("heatNumber",s.nextHeatNumber),h("qualityCertification",`QC-${new Date().getFullYear()}-${s.nextHeatNumber}`)}}catch(e){console.error("Error generating heat number:",e)}},T=async e=>{s(!0),l(!1);try{let s=await fetch("/api/data-entry/heat-number",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,batchSizeKg:parseFloat(e.batchSizeKg.toString())})});if(s.ok)l(!0),g(),F(),D({title:"Heat Number Registered",description:"Heat number has been successfully registered."}),setTimeout(()=>l(!1),3e3);else{let e=await s.json();throw Error(e.error||"Failed to register heat number")}}catch(e){console.error("Error registering heat number:",e),D({title:"Error",description:e instanceof Error?e.message:"Failed to register heat number",variant:"destructive"})}finally{s(!1)}};return(0,t.jsxs)("form",{onSubmit:o(T),className:"space-y-6",children:[r&&(0,t.jsxs)(b,{className:"border-green-200 bg-green-50",children:[(0,t.jsx)(I.Z,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)(f,{className:"text-green-800",children:"Heat number has been successfully registered!"})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{className:"text-lg",children:"Heat Number Information"})}),(0,t.jsxs)(i.aY,{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"heatNumber",children:"Heat Number *"}),(0,t.jsx)(p.I,{id:"heatNumber",...d("heatNumber",{required:"Heat number is required"}),readOnly:!0,className:"bg-muted"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"alloyId",children:"Alloy Type *"}),(0,t.jsxs)(y.Ph,{onValueChange:e=>h("alloyId",e),children:[(0,t.jsx)(y.i4,{children:(0,t.jsx)(y.ki,{placeholder:"Select alloy type"})}),(0,t.jsx)(y.Bw,{children:n.map(e=>(0,t.jsxs)(y.Ql,{value:e.id,children:[e.id," - ",e.alloyName]},e.id))})]}),v.alloyId&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:"Alloy type is required"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"batchSizeKg",children:"Batch Size (kg) *"}),(0,t.jsx)(p.I,{id:"batchSizeKg",type:"number",step:"0.01",placeholder:"e.g., 450.75",...d("batchSizeKg",{required:"Batch size is required",min:{value:.1,message:"Batch size must be positive"}})}),v.batchSizeKg&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:v.batchSizeKg.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"furnaceId",children:"Furnace ID *"}),(0,t.jsxs)(y.Ph,{onValueChange:e=>h("furnaceId",e),children:[(0,t.jsx)(y.i4,{children:(0,t.jsx)(y.ki,{placeholder:"Select furnace"})}),(0,t.jsxs)(y.Bw,{children:[(0,t.jsx)(y.Ql,{value:"F001",children:"F001 - Primary Furnace"}),(0,t.jsx)(y.Ql,{value:"F002",children:"F002 - Secondary Furnace"}),(0,t.jsx)(y.Ql,{value:"F003",children:"F003 - Backup Furnace"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"meltDate",children:"Melt Date *"}),(0,t.jsx)(p.I,{id:"meltDate",type:"date",...d("meltDate",{required:"Melt date is required"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"meltTime",children:"Melt Time *"}),(0,t.jsx)(p.I,{id:"meltTime",type:"time",...d("meltTime",{required:"Melt time is required"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"qualityCertification",children:"Quality Certification"}),(0,t.jsx)(p.I,{id:"qualityCertification",...d("qualityCertification"),readOnly:!0,className:"bg-muted"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"status",children:"Status"}),(0,t.jsxs)(y.Ph,{onValueChange:e=>h("status",e),children:[(0,t.jsx)(y.i4,{children:(0,t.jsx)(y.ki,{placeholder:"Select status"})}),(0,t.jsxs)(y.Bw,{children:[(0,t.jsx)(y.Ql,{value:"Pending",children:"Pending"}),(0,t.jsx)(y.Ql,{value:"In Progress",children:"In Progress"}),(0,t.jsx)(y.Ql,{value:"Approved",children:"Approved"}),(0,t.jsx)(y.Ql,{value:"Rejected",children:"Rejected"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,t.jsx)(u.z,{type:"button",variant:"outline",onClick:()=>{g(),F()},disabled:e,children:"Clear Form"}),(0,t.jsx)(u.z,{type:"submit",disabled:e,children:e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Registering..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.Z,{className:"mr-2 h-4 w-4"}),"Register Heat Number"]})})]})]})}function B(){let[e,s]=(0,a.useState)("casting-run"),r=[{id:"casting-run",title:"Casting Run",description:"Production Data Report (PDR)",icon:c.Z,color:"bg-blue-500",count:"Most Used"},{id:"quality-inspection",title:"Quality Inspection",description:"QA assessment and ratings",icon:d.Z,color:"bg-green-500",count:"QA Required"},{id:"maintenance-record",title:"Maintenance Record",description:"Equipment service log",icon:o.Z,color:"bg-orange-500",count:"Scheduled"},{id:"work-order",title:"Work Order",description:"Job tracking and scheduling",icon:h.Z,color:"bg-purple-500",count:"Planning"},{id:"heat-number",title:"Heat Number",description:"Material batch traceability",icon:m.Z,color:"bg-red-500",count:"Traceability"}];return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:r.map(r=>(0,t.jsx)(i.Zb,{className:`cursor-pointer transition-all hover:shadow-md ${e===r.id?"ring-2 ring-primary":""}`,onClick:()=>s(r.id),children:(0,t.jsxs)(i.Ol,{className:"pb-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:`p-2 rounded-lg ${r.color}`,children:(0,t.jsx)(r.icon,{className:"h-4 w-4 text-white"})}),(0,t.jsx)(n.C,{variant:"secondary",className:"text-xs",children:r.count})]}),(0,t.jsx)(i.ll,{className:"text-sm",children:r.title}),(0,t.jsx)(i.SZ,{className:"text-xs",children:r.description})]})},r.id))}),(0,t.jsxs)(l.mQ,{value:e,onValueChange:s,children:[(0,t.jsx)(l.dr,{className:"grid w-full grid-cols-5 mb-6",children:r.map(e=>(0,t.jsxs)(l.SP,{value:e.id,className:"text-xs",children:[(0,t.jsx)(e.icon,{className:"h-3 w-3 mr-1"}),e.title]},e.id))}),(0,t.jsx)(l.nU,{value:"casting-run",children:(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)(i.ll,{className:"flex items-center",children:[(0,t.jsx)(c.Z,{className:"h-5 w-5 mr-2"}),"Production Data Report (PDR)"]}),(0,t.jsx)(i.SZ,{children:"Record casting run details including parameters, materials, and operational data"})]}),(0,t.jsx)(i.aY,{children:(0,t.jsx)(Q,{})})]})}),(0,t.jsx)(l.nU,{value:"quality-inspection",children:(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)(i.ll,{className:"flex items-center",children:[(0,t.jsx)(d.Z,{className:"h-5 w-5 mr-2"}),"Quality Inspection Form"]}),(0,t.jsx)(i.SZ,{children:"Document quality assessment results and defect identification"})]}),(0,t.jsx)(i.aY,{children:(0,t.jsx)(q,{})})]})}),(0,t.jsx)(l.nU,{value:"maintenance-record",children:(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)(i.ll,{className:"flex items-center",children:[(0,t.jsx)(o.Z,{className:"h-5 w-5 mr-2"}),"Equipment Maintenance Log"]}),(0,t.jsx)(i.SZ,{children:"Log maintenance activities, parts replaced, and equipment condition"})]}),(0,t.jsx)(i.aY,{children:(0,t.jsx)(A,{})})]})}),(0,t.jsx)(l.nU,{value:"work-order",children:(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)(i.ll,{className:"flex items-center",children:[(0,t.jsx)(h.Z,{className:"h-5 w-5 mr-2"}),"Work Order Entry"]}),(0,t.jsx)(i.SZ,{children:"Create and manage production work orders and job specifications"})]}),(0,t.jsx)(i.aY,{children:(0,t.jsx)(M,{})})]})}),(0,t.jsx)(l.nU,{value:"heat-number",children:(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)(i.ll,{className:"flex items-center",children:[(0,t.jsx)(m.Z,{className:"h-5 w-5 mr-2"}),"Heat Number Registration"]}),(0,t.jsx)(i.SZ,{children:"Register new heat numbers with material batch information"})]}),(0,t.jsx)(i.aY,{children:(0,t.jsx)(Z,{})})]})})]})]})}}},function(e){e.O(0,[429,76,532,772,386,156,744],function(){return e(e.s=60048)}),_N_E=e.O()}]);