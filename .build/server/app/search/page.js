(()=>{var e={};e.id=797,e.ids=[797],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},46397:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>h,pages:()=>o,routeModule:()=>m,tree:()=>d}),a(66991),a(78932),a(71363);var r=a(36576),l=a(72007),i=a(21818),n=a.n(i),t=a(88897),c={};for(let e in t)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>t[e]);a.d(s,c);let d=["",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,66991)),"/home/ubuntu/american_spincast_foundry/app/app/search/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,78932)),"/home/ubuntu/american_spincast_foundry/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,71363,23)),"next/dist/client/components/not-found-error"]}],o=["/home/ubuntu/american_spincast_foundry/app/app/search/page.tsx"],h="/search/page",x={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/search/page",pathname:"/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},68113:(e,s,a)=>{Promise.resolve().then(a.bind(a,69466)),Promise.resolve().then(a.bind(a,73399))},73399:(e,s,a)=>{"use strict";a.d(s,{SearchInterface:()=>_});var r=a(62901),l=a(24383),i=a(23803),n=a(250),t=a(27878),c=a(31606),d=a(4523),o=a(84227),h=a(98050),x=a(87362),m=a(71989),u=a(28423),j=a(32317),p=a(91046),v=a(71945);let g=(0,v.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),y=(0,v.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),N=(0,v.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var f=a(21680);let w=(0,v.Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),b=(0,v.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),k=(0,v.Z)("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),C=(0,v.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var S=a(62392);function P({searchType:e,results:s,isLoading:a,hasSearched:l}){if(a)return r.jsx("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,s)=>r.jsx(i.Zb,{className:"animate-pulse",children:r.jsx(i.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),r.jsx("div",{className:"h-3 bg-muted rounded w-1/2"}),r.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]})})},s))});if(!l)return r.jsx("div",{className:"text-center py-12",children:(0,r.jsxs)("div",{className:"text-muted-foreground",children:[(0,r.jsxs)("div",{className:"mb-4",children:["casting-runs"===e&&r.jsx(h.Z,{className:"h-12 w-12 mx-auto opacity-50"}),"quality-inspections"===e&&r.jsx(x.Z,{className:"h-12 w-12 mx-auto opacity-50"}),"maintenance-records"===e&&r.jsx(m.Z,{className:"h-12 w-12 mx-auto opacity-50"}),"defect-records"===e&&r.jsx(f.Z,{className:"h-12 w-12 mx-auto opacity-50"}),"heat-numbers"===e&&r.jsx(u.Z,{className:"h-12 w-12 mx-auto opacity-50"}),"work-orders"===e&&r.jsx(j.Z,{className:"h-12 w-12 mx-auto opacity-50"})]}),r.jsx("p",{className:"text-lg font-medium",children:"Search foundry data"}),r.jsx("p",{className:"text-sm",children:"Enter search terms or apply filters to find records"})]})});if(0===s.length)return r.jsx("div",{className:"text-center py-12",children:(0,r.jsxs)("div",{className:"text-muted-foreground",children:[r.jsx(f.Z,{className:"h-12 w-12 mx-auto opacity-50 mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"No results found"}),r.jsx("p",{className:"text-sm",children:"Try adjusting your search terms or filters"})]})});let n=e=>r.jsx(i.Zb,{className:"hover:shadow-md transition-shadow",children:r.jsx(i.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(h.Z,{className:"h-4 w-4 text-blue-600"}),r.jsx("h4",{className:"font-semibold",children:e.workOrder?.workOrderNumber||"Unknown WO"}),(0,r.jsxs)(c.C,{variant:"secondary",children:["Heat ",e.heatNumber?.heatNumber||"N/A"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(w,{className:"h-3 w-3 text-muted-foreground"}),r.jsx("span",{children:new Date(e.castingDate).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(b,{className:"h-3 w-3 text-muted-foreground"}),r.jsx("span",{children:e.operatorId||"N/A"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(k,{className:"h-3 w-3 text-muted-foreground"}),(0,r.jsxs)("span",{children:[e.actualRpm||e.rpmSetting||"N/A"," RPM"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(u.Z,{className:"h-3 w-3 text-muted-foreground"}),(0,r.jsxs)("span",{children:[e.pourTemperature||"N/A","\xb0C"]})]})]}),e.notes&&r.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.notes})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsx(c.C,{variant:"Completed"===e.status?"default":"secondary",children:e.status||"Unknown"}),r.jsx(S.default,{href:`/production/casting-run/${e.id}`,children:r.jsx(t.z,{variant:"ghost",size:"sm",children:r.jsx(C,{className:"h-3 w-3"})})})]})]})})},e.id),d=e=>r.jsx(i.Zb,{className:"hover:shadow-md transition-shadow",children:r.jsx(i.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(x.Z,{className:"h-4 w-4 text-green-600"}),(0,r.jsxs)("h4",{className:"font-semibold",children:["Inspection #",e.id]}),r.jsx(c.C,{variant:"Pass"===e.passFailStatus?"default":"Fail"===e.passFailStatus?"destructive":"secondary",children:e.passFailStatus||"Unknown"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(w,{className:"h-3 w-3 text-muted-foreground"}),r.jsx("span",{children:new Date(e.inspectionDate).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(b,{className:"h-3 w-3 text-muted-foreground"}),r.jsx("span",{children:e.inspectorId||"N/A"})]}),r.jsx("div",{className:"flex items-center space-x-1",children:(0,r.jsxs)(c.C,{variant:1===e.overallRating?"default":2===e.overallRating?"secondary":"destructive",children:["Rating: ",e.overallRating||"N/A"]})}),r.jsx("div",{children:r.jsx("span",{className:"text-xs text-muted-foreground",children:e.inspectionType||"Standard"})})]}),e.castingRun?.workOrder?.workOrderNumber&&(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Work Order: ",e.castingRun.workOrder.workOrderNumber]})]}),r.jsx(S.default,{href:`/quality/inspection/${e.id}`,children:r.jsx(t.z,{variant:"ghost",size:"sm",children:r.jsx(C,{className:"h-3 w-3"})})})]})})},e.id),o=e=>r.jsx(i.Zb,{className:"hover:shadow-md transition-shadow",children:r.jsx(i.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(m.Z,{className:"h-4 w-4 text-orange-600"}),r.jsx("h4",{className:"font-semibold",children:e.spinnerEquipment?.equipmentModel||e.spinnerId}),r.jsx(c.C,{variant:"outline",children:e.maintenanceType||"Maintenance"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(w,{className:"h-3 w-3 text-muted-foreground"}),r.jsx("span",{children:new Date(e.maintenanceDate).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(b,{className:"h-3 w-3 text-muted-foreground"}),r.jsx("span",{children:e.technicianId||"N/A"})]}),r.jsx("div",{className:"flex items-center space-x-1",children:(0,r.jsxs)("span",{className:"text-xs",children:["Cost: $",e.cost||0]})}),r.jsx("div",{className:"flex items-center space-x-1",children:r.jsx(c.C,{variant:"Excellent"===e.conditionAfterService?"default":"Good"===e.conditionAfterService?"secondary":"destructive",children:e.conditionAfterService||"Unknown"})})]}),e.maintenancePerformed&&r.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.maintenancePerformed})]}),r.jsx(S.default,{href:`/maintenance/record/${e.id}`,children:r.jsx(t.z,{variant:"ghost",size:"sm",children:r.jsx(C,{className:"h-3 w-3"})})})]})})},e.id),p=e=>r.jsx(i.Zb,{className:"hover:shadow-md transition-shadow border-l-4 border-l-red-500",children:r.jsx(i.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(f.Z,{className:"h-4 w-4 text-red-600"}),r.jsx("h4",{className:"font-semibold",children:e.defectType||"Unknown Defect"}),r.jsx(c.C,{variant:"Minor"===e.defectSeverity?"secondary":(e.defectSeverity,"destructive"),children:e.defectSeverity||"Unknown"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:"Location:"}),r.jsx("p",{children:e.defectLocation||"Not specified"})]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:"Cost Impact:"}),(0,r.jsxs)("p",{children:["$",e.costImpact||0]})]}),r.jsx("div",{children:r.jsx(c.C,{variant:"Resolved"===e.status?"default":"secondary",children:e.status||"Open"})})]}),e.defectDescription&&r.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.defectDescription})]}),r.jsx(S.default,{href:`/quality/defect/${e.id}`,children:r.jsx(t.z,{variant:"ghost",size:"sm",children:r.jsx(C,{className:"h-3 w-3"})})})]})})},e.id),v=e=>r.jsx(i.Zb,{className:"hover:shadow-md transition-shadow",children:r.jsx(i.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(u.Z,{className:"h-4 w-4 text-red-600"}),(0,r.jsxs)("h4",{className:"font-semibold",children:["Heat ",e.heatNumber]}),r.jsx(c.C,{variant:"outline",children:e.alloyType?.alloyName||"Unknown Alloy"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(w,{className:"h-3 w-3 text-muted-foreground"}),r.jsx("span",{children:new Date(e.meltDate).toLocaleDateString()})]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:"Batch Size:"}),(0,r.jsxs)("p",{children:[e.batchSizeKg||0," kg"]})]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:"Furnace:"}),r.jsx("p",{children:e.furnaceId||"N/A"})]}),r.jsx("div",{children:r.jsx(c.C,{variant:"Approved"===e.status?"default":"secondary",children:e.status||"Pending"})})]}),e.qualityCertification&&(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Cert: ",e.qualityCertification]})]}),r.jsx(S.default,{href:`/production/heat/${e.id}`,children:r.jsx(t.z,{variant:"ghost",size:"sm",children:r.jsx(C,{className:"h-3 w-3"})})})]})})},e.id),g=e=>r.jsx(i.Zb,{className:"hover:shadow-md transition-shadow",children:r.jsx(i.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(j.Z,{className:"h-4 w-4 text-purple-600"}),r.jsx("h4",{className:"font-semibold",children:e.workOrderNumber}),r.jsx(c.C,{variant:"High"===e.priorityLevel?"destructive":"Medium"===e.priorityLevel?"secondary":"outline",children:e.priorityLevel||"Medium"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(w,{className:"h-3 w-3 text-muted-foreground"}),r.jsx("span",{children:new Date(e.orderDate).toLocaleDateString()})]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:"Quantity:"}),(0,r.jsxs)("p",{children:[e.quantityOrdered||0," units"]})]}),r.jsx("div",{children:r.jsx(c.C,{variant:"Completed"===e.status?"default":"secondary",children:e.status||"Scheduled"})})]}),e.partSpecification&&r.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.partSpecification})]}),r.jsx(S.default,{href:`/production/work-order/${e.id}`,children:r.jsx(t.z,{variant:"ghost",size:"sm",children:r.jsx(C,{className:"h-3 w-3"})})})]})})},e.id);return(0,r.jsxs)("div",{className:"space-y-4",children:[s.map(s=>{switch(e){case"casting-runs":return n(s);case"quality-inspections":return d(s);case"maintenance-records":return o(s);case"defect-records":return p(s);case"heat-numbers":return v(s);case"work-orders":return g(s);default:return null}}),s.length>10&&r.jsx("div",{className:"text-center py-4",children:(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing ",s.length," results"]})})]})}var A=a(82657),Q=a(72388),T=a(42594);function Z({searchType:e,filters:s,onFiltersChange:a,searchOptions:l}){let i=(e,r)=>{if("all"===r||""===r){let r={...s};delete r[e],a(r)}else a({...s,[e]:r})},c=Object.keys(s).length>0,d=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(A._,{children:"Date Range"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{children:[r.jsx(A._,{className:"text-xs text-muted-foreground",children:"From"}),r.jsx(n.I,{type:"date",value:s.dateFrom||"",onChange:e=>i("dateFrom",e.target.value)})]}),(0,r.jsxs)("div",{children:[r.jsx(A._,{className:"text-xs text-muted-foreground",children:"To"}),r.jsx(n.I,{type:"date",value:s.dateTo||"",onChange:e=>i("dateTo",e.target.value)})]})]})]}),l?.workOrders&&(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(A._,{children:"Work Order"}),(0,r.jsxs)(Q.Ph,{value:s.workOrderId||"all",onValueChange:e=>i("workOrderId",e),children:[r.jsx(Q.i4,{children:r.jsx(Q.ki,{placeholder:"All work orders"})}),(0,r.jsxs)(Q.Bw,{children:[r.jsx(Q.Ql,{value:"all",children:"All Work Orders"}),l.workOrders.map(e=>r.jsx(Q.Ql,{value:e.id,children:e.workOrderNumber},e.id))]})]})]}),l?.heatNumbers&&(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(A._,{children:"Heat Number"}),(0,r.jsxs)(Q.Ph,{value:s.heatNumber||"all",onValueChange:e=>i("heatNumber",e),children:[r.jsx(Q.i4,{children:r.jsx(Q.ki,{placeholder:"All heat numbers"})}),(0,r.jsxs)(Q.Bw,{children:[r.jsx(Q.Ql,{value:"all",children:"All Heat Numbers"}),l.heatNumbers.map(e=>(0,r.jsxs)(Q.Ql,{value:e.heatNumber,children:[e.heatNumber," (",e.alloyType.alloyName,")"]},e.heatNumber))]})]})]}),l?.alloyTypes&&(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(A._,{children:"Alloy Type"}),(0,r.jsxs)(Q.Ph,{value:s.alloyType||"all",onValueChange:e=>i("alloyType",e),children:[r.jsx(Q.i4,{children:r.jsx(Q.ki,{placeholder:"All alloy types"})}),(0,r.jsxs)(Q.Bw,{children:[r.jsx(Q.Ql,{value:"all",children:"All Alloy Types"}),l.alloyTypes.map(e=>(0,r.jsxs)(Q.Ql,{value:e.id,children:[e.id," - ",e.alloyName]},e.id))]})]})]})]}),o=()=>(0,r.jsxs)(r.Fragment,{children:[d(),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(A._,{children:"Operator ID"}),r.jsx(n.I,{placeholder:"e.g., OP001",value:s.operatorId||"",onChange:e=>i("operatorId",e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(A._,{children:"RPM Range"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx(n.I,{type:"number",placeholder:"Min RPM",value:s.rpmMin||"",onChange:e=>i("rpmMin",e.target.value)}),r.jsx(n.I,{type:"number",placeholder:"Max RPM",value:s.rpmMax||"",onChange:e=>i("rpmMax",e.target.value)})]})]})]}),h=()=>(0,r.jsxs)(r.Fragment,{children:[d(),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(A._,{children:"Inspector ID"}),r.jsx(n.I,{placeholder:"e.g., QA001",value:s.inspectorId||"",onChange:e=>i("inspectorId",e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(A._,{children:"Quality Rating"}),(0,r.jsxs)(Q.Ph,{value:s.qualityRating||"all",onValueChange:e=>i("qualityRating",e),children:[r.jsx(Q.i4,{children:r.jsx(Q.ki,{placeholder:"All ratings"})}),(0,r.jsxs)(Q.Bw,{children:[r.jsx(Q.Ql,{value:"all",children:"All Ratings"}),r.jsx(Q.Ql,{value:"1",children:"1 - Excellent"}),r.jsx(Q.Ql,{value:"2",children:"2 - Acceptable"}),r.jsx(Q.Ql,{value:"3",children:"3 - Needs Attention"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(A._,{children:"Pass/Fail Status"}),(0,r.jsxs)(Q.Ph,{value:s.passFailStatus||"all",onValueChange:e=>i("passFailStatus",e),children:[r.jsx(Q.i4,{children:r.jsx(Q.ki,{placeholder:"All statuses"})}),(0,r.jsxs)(Q.Bw,{children:[r.jsx(Q.Ql,{value:"all",children:"All Statuses"}),r.jsx(Q.Ql,{value:"Pass",children:"Pass"}),r.jsx(Q.Ql,{value:"Fail",children:"Fail"}),r.jsx(Q.Ql,{value:"Conditional",children:"Conditional"})]})]})]})]}),x=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(A._,{children:"Date Range"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{children:[r.jsx(A._,{className:"text-xs text-muted-foreground",children:"From"}),r.jsx(n.I,{type:"date",value:s.dateFrom||"",onChange:e=>i("dateFrom",e.target.value)})]}),(0,r.jsxs)("div",{children:[r.jsx(A._,{className:"text-xs text-muted-foreground",children:"To"}),r.jsx(n.I,{type:"date",value:s.dateTo||"",onChange:e=>i("dateTo",e.target.value)})]})]})]}),l?.equipment&&(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(A._,{children:"Equipment"}),(0,r.jsxs)(Q.Ph,{value:s.equipmentId||"all",onValueChange:e=>i("equipmentId",e),children:[r.jsx(Q.i4,{children:r.jsx(Q.ki,{placeholder:"All equipment"})}),(0,r.jsxs)(Q.Bw,{children:[r.jsx(Q.Ql,{value:"all",children:"All Equipment"}),l.equipment.map(e=>(0,r.jsxs)(Q.Ql,{value:e.id,children:[e.id," - ",e.equipmentModel]},e.id))]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(A._,{children:"Maintenance Type"}),(0,r.jsxs)(Q.Ph,{value:s.maintenanceType||"all",onValueChange:e=>i("maintenanceType",e),children:[r.jsx(Q.i4,{children:r.jsx(Q.ki,{placeholder:"All types"})}),(0,r.jsxs)(Q.Bw,{children:[r.jsx(Q.Ql,{value:"all",children:"All Types"}),r.jsx(Q.Ql,{value:"Routine Inspection",children:"Routine Inspection"}),r.jsx(Q.Ql,{value:"Preventive Maintenance",children:"Preventive Maintenance"}),r.jsx(Q.Ql,{value:"Corrective Maintenance",children:"Corrective Maintenance"}),r.jsx(Q.Ql,{value:"Bearing Replacement",children:"Bearing Replacement"}),r.jsx(Q.Ql,{value:"Emergency Repair",children:"Emergency Repair"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(A._,{children:"Technician ID"}),r.jsx(n.I,{placeholder:"e.g., TECH001",value:s.technicianId||"",onChange:e=>i("technicianId",e.target.value)})]})]}),m=()=>(0,r.jsxs)(r.Fragment,{children:[d(),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(A._,{children:"Defect Type"}),(0,r.jsxs)(Q.Ph,{value:s.defectType||"all",onValueChange:e=>i("defectType",e),children:[r.jsx(Q.i4,{children:r.jsx(Q.ki,{placeholder:"All defect types"})}),(0,r.jsxs)(Q.Bw,{children:[r.jsx(Q.Ql,{value:"all",children:"All Defect Types"}),r.jsx(Q.Ql,{value:"Porosity",children:"Porosity"}),r.jsx(Q.Ql,{value:"Inclusion",children:"Inclusion"}),r.jsx(Q.Ql,{value:"Crack",children:"Crack"}),r.jsx(Q.Ql,{value:"Dimensional",children:"Dimensional"}),r.jsx(Q.Ql,{value:"Surface",children:"Surface"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(A._,{children:"Severity"}),(0,r.jsxs)(Q.Ph,{value:s.defectSeverity||"all",onValueChange:e=>i("defectSeverity",e),children:[r.jsx(Q.i4,{children:r.jsx(Q.ki,{placeholder:"All severities"})}),(0,r.jsxs)(Q.Bw,{children:[r.jsx(Q.Ql,{value:"all",children:"All Severities"}),r.jsx(Q.Ql,{value:"Minor",children:"Minor"}),r.jsx(Q.Ql,{value:"Major",children:"Major"}),r.jsx(Q.Ql,{value:"Critical",children:"Critical"})]})]})]})]});return(0,r.jsxs)("div",{className:"space-y-4",children:[(()=>{switch(e){case"casting-runs":return o();case"quality-inspections":return h();case"maintenance-records":return x();case"defect-records":return m();case"heat-numbers":default:return d();case"work-orders":return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(A._,{children:"Date Range"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{children:[r.jsx(A._,{className:"text-xs text-muted-foreground",children:"From"}),r.jsx(n.I,{type:"date",value:s.dateFrom||"",onChange:e=>i("dateFrom",e.target.value)})]}),(0,r.jsxs)("div",{children:[r.jsx(A._,{className:"text-xs text-muted-foreground",children:"To"}),r.jsx(n.I,{type:"date",value:s.dateTo||"",onChange:e=>i("dateTo",e.target.value)})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(A._,{children:"Priority Level"}),(0,r.jsxs)(Q.Ph,{value:s.priorityLevel||"all",onValueChange:e=>i("priorityLevel",e),children:[r.jsx(Q.i4,{children:r.jsx(Q.ki,{placeholder:"All priorities"})}),(0,r.jsxs)(Q.Bw,{children:[r.jsx(Q.Ql,{value:"all",children:"All Priorities"}),r.jsx(Q.Ql,{value:"High",children:"High"}),r.jsx(Q.Ql,{value:"Medium",children:"Medium"}),r.jsx(Q.Ql,{value:"Low",children:"Low"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(A._,{children:"Status"}),(0,r.jsxs)(Q.Ph,{value:s.status||"all",onValueChange:e=>i("status",e),children:[r.jsx(Q.i4,{children:r.jsx(Q.ki,{placeholder:"All statuses"})}),(0,r.jsxs)(Q.Bw,{children:[r.jsx(Q.Ql,{value:"all",children:"All Statuses"}),r.jsx(Q.Ql,{value:"Scheduled",children:"Scheduled"}),r.jsx(Q.Ql,{value:"In Progress",children:"In Progress"}),r.jsx(Q.Ql,{value:"Completed",children:"Completed"}),r.jsx(Q.Ql,{value:"On Hold",children:"On Hold"})]})]})]})]})}})(),c&&(0,r.jsxs)(t.z,{variant:"outline",size:"sm",onClick:()=>{a({})},children:[r.jsx(T.Z,{className:"h-3 w-3 mr-1"}),"Clear All Filters"]})]})}function _(){let[e,s]=(0,l.useState)("casting-runs"),[a,v]=(0,l.useState)({searchType:"casting-runs",searchTerm:"",filters:{}}),[f,w]=(0,l.useState)([]),[b,k]=(0,l.useState)(!1),[C,S]=(0,l.useState)(null),[A,Q]=(0,l.useState)(!1),T=async()=>{if(a.searchType){k(!0);try{let e=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(e.ok){let s=await e.json();w(s),Q(!0)}else console.error("Search failed"),w([])}catch(e){console.error("Error performing search:",e),w([])}finally{k(!1)}}},_=async()=>{if(0!==f.length)try{let e=await fetch("/api/search/export",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({searchType:a.searchType,results:f})});if(e.ok){let s=await e.blob(),r=window.URL.createObjectURL(s),l=document.createElement("a");l.style.display="none",l.href=r,l.download=`foundry-${a.searchType}-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(r)}}catch(e){console.error("Error exporting results:",e)}},I=[{id:"casting-runs",name:"Casting Runs",description:"Production data reports and casting records",icon:h.Z,count:"PDR Data"},{id:"quality-inspections",name:"Quality Inspections",description:"QA assessments and quality ratings",icon:x.Z,count:"QA Records"},{id:"maintenance-records",name:"Maintenance Records",description:"Equipment service and maintenance logs",icon:m.Z,count:"Service Logs"},{id:"defect-records",name:"Defect Records",description:"Quality issues and defect tracking",icon:x.Z,count:"Issues"},{id:"heat-numbers",name:"Heat Numbers",description:"Material batch and traceability records",icon:u.Z,count:"Batches"},{id:"work-orders",name:"Work Orders",description:"Job tracking and production scheduling",icon:j.Z,count:"Jobs"}];return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[(0,r.jsxs)(i.ll,{className:"flex items-center",children:[r.jsx(p.Z,{className:"h-5 w-5 mr-2"}),"Quick Search"]}),r.jsx(i.SZ,{children:"Search across all foundry data or use advanced filters below"})]}),r.jsx(i.aY,{children:(0,r.jsxs)("div",{className:"flex space-x-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx(n.I,{placeholder:"Search work orders, heat numbers, operators, or any production data...",value:a.searchTerm,onChange:e=>v(s=>({...s,searchTerm:e.target.value})),onKeyPress:e=>"Enter"===e.key&&T()})}),(0,r.jsxs)(t.z,{onClick:T,disabled:b,children:[b?r.jsx(g,{className:"h-4 w-4 mr-2 animate-spin"}):r.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"Search"]}),r.jsx(t.z,{variant:"outline",onClick:()=>{v({searchType:e,searchTerm:"",filters:{}}),w([]),Q(!1)},children:"Clear"})]})})]}),(0,r.jsxs)(o.mQ,{value:e,onValueChange:s,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx(o.dr,{className:"grid w-full grid-cols-6",children:I.map(e=>(0,r.jsxs)(o.SP,{value:e.id,className:"text-xs",children:[r.jsx(e.icon,{className:"h-3 w-3 mr-1"}),e.name]},e.id))}),A&&f.length>0&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(c.C,{variant:"secondary",children:[f.length," results"]}),(0,r.jsxs)(t.z,{variant:"outline",size:"sm",onClick:_,children:[r.jsx(y,{className:"h-4 w-4 mr-1"}),"Export"]})]})]}),I.map(e=>r.jsx(o.nU,{value:e.id,children:(0,r.jsxs)("div",{className:"grid gap-6 lg:grid-cols-4",children:[r.jsx("div",{className:"lg:col-span-1",children:(0,r.jsxs)(i.Zb,{children:[r.jsx(i.Ol,{children:(0,r.jsxs)(i.ll,{className:"text-lg flex items-center",children:[r.jsx(N,{className:"h-4 w-4 mr-2"}),"Filters"]})}),(0,r.jsxs)(i.aY,{children:[r.jsx(Z,{searchType:e.id,filters:a.filters,onFiltersChange:e=>v(s=>({...s,filters:e})),searchOptions:C}),r.jsx(d.Z,{className:"my-4"}),(0,r.jsxs)(t.z,{onClick:T,className:"w-full",disabled:b,children:[b?r.jsx(g,{className:"h-4 w-4 mr-2 animate-spin"}):r.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"Apply Filters"]})]})]})}),r.jsx("div",{className:"lg:col-span-3",children:(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[(0,r.jsxs)(i.ll,{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(e.icon,{className:"h-5 w-5 mr-2"}),e.name]}),A&&(0,r.jsxs)(c.C,{variant:"outline",children:[f.length," results"]})]}),r.jsx(i.SZ,{children:e.description})]}),r.jsx(i.aY,{children:r.jsx(P,{searchType:e.id,results:f,isLoading:b,hasSearched:A})})]})})]})},e.id))]})]})}},4523:(e,s,a)=>{"use strict";a.d(s,{Z:()=>o});var r=a(62901),l=a(24383),i=a(74132),n="horizontal",t=["horizontal","vertical"],c=l.forwardRef((e,s)=>{let{decorative:a,orientation:l=n,...c}=e,d=t.includes(l)?l:n;return(0,r.jsx)(i.WV.div,{"data-orientation":d,...a?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...c,ref:s})});c.displayName="Separator";var d=a(68637);let o=l.forwardRef(({className:e,orientation:s="horizontal",decorative:a=!0,...l},i)=>r.jsx(c,{ref:i,decorative:a,orientation:s,className:(0,d.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",e),...l}));o.displayName=c.displayName},21680:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});let r=(0,a(71945).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},66991:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>n});var r=a(83537),l=a(48816);let i=(0,a(88895).createProxy)(String.raw`/home/ubuntu/american_spincast_foundry/app/components/search/search-interface.tsx#SearchInterface`);function n(){return r.jsx(l.X,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Search & Query"}),r.jsx("p",{className:"text-muted-foreground",children:"Advanced search across all production data with filtering and export capabilities"})]}),r.jsx(i,{})]})})}}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[372,464,773,844,384],()=>a(46397));module.exports=r})();