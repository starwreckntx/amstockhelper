(()=>{var e={};e.id=601,e.ids=[601],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},17813:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>o,routeModule:()=>m,tree:()=>c}),s(3455),s(78932),s(71363);var t=s(36576),a=s(72007),i=s(21818),l=s.n(i),n=s(88897),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(r,d);let c=["",{children:["data-entry",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3455)),"/home/ubuntu/american_spincast_foundry/app/app/data-entry/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,78932)),"/home/ubuntu/american_spincast_foundry/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,71363,23)),"next/dist/client/components/not-found-error"]}],o=["/home/ubuntu/american_spincast_foundry/app/app/data-entry/page.tsx"],u="/data-entry/page",h={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/data-entry/page",pathname:"/data-entry",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},82708:(e,r,s)=>{Promise.resolve().then(s.bind(s,29286)),Promise.resolve().then(s.bind(s,69466))},29286:(e,r,s)=>{"use strict";s.d(r,{DataEntryHub:()=>e1});var t=s(62901),a=s(24383),i=s(23803),l=s(84227),n=s(31606),d=s(98050),c=s(87362),o=s(71989),u=s(32317),h=s(28423),m=e=>"checkbox"===e.type,x=e=>e instanceof Date,p=e=>null==e;let j=e=>"object"==typeof e;var g=e=>!p(e)&&!Array.isArray(e)&&j(e)&&!x(e),f=e=>g(e)&&e.target?m(e.target)?e.target.checked:e.target.value:e,y=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,v=(e,r)=>e.has(y(r)),b=e=>{let r=e.constructor&&e.constructor.prototype;return g(r)&&r.hasOwnProperty("isPrototypeOf")},N="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function S(e){let r;let s=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(!(N&&(e instanceof Blob||e instanceof FileList))&&(s||g(e))))return e;else if(r=s?[]:{},s||b(e))for(let s in e)e.hasOwnProperty(s)&&(r[s]=S(e[s]));else r=e;return r}var _=e=>Array.isArray(e)?e.filter(Boolean):[],F=e=>void 0===e,w=(e,r,s)=>{if(!r||!g(e))return s;let t=_(r.split(/[,[\].]+?/)).reduce((e,r)=>p(e)?e:e[r],e);return F(t)||t===e?F(e[r])?s:e[r]:t},I=e=>"boolean"==typeof e,k=e=>/^\w*$/.test(e),A=e=>_(e.replace(/["|']|\]/g,"").split(/\.|\[/)),D=(e,r,s)=>{let t=-1,a=k(r)?[r]:A(r),i=a.length,l=i-1;for(;++t<i;){let r=a[t],i=s;if(t!==l){let s=e[r];i=g(s)||Array.isArray(s)?s:isNaN(+a[t+1])?{}:[]}if("__proto__"===r)return;e[r]=i,e=e[r]}return e};let C={BLUR:"blur",FOCUS_OUT:"focusout"},O={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},T={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};a.createContext(null);var V=(e,r,s,t=!0)=>{let a={defaultValues:r._defaultValues};for(let i in e)Object.defineProperty(a,i,{get:()=>(r._proxyFormState[i]!==O.all&&(r._proxyFormState[i]=!t||O.all),s&&(s[i]=!0),e[i])});return a},P=e=>g(e)&&!Object.keys(e).length,R=(e,r,s,t)=>{s(e);let{name:a,...i}=e;return P(i)||Object.keys(i).length>=Object.keys(r).length||Object.keys(i).find(e=>r[e]===(!t||O.all))},q=e=>Array.isArray(e)?e:[e],Q=e=>"string"==typeof e,E=(e,r,s,t,a)=>Q(e)?(t&&r.watch.add(e),w(s,e,a)):Array.isArray(e)?e.map(e=>(t&&r.watch.add(e),w(s,e))):(t&&(r.watchAll=!0),s),M=(e,r,s,t,a)=>r?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[t]:a||!0}}:{},B=e=>({isOnSubmit:!e||e===O.onSubmit,isOnBlur:e===O.onBlur,isOnChange:e===O.onChange,isOnAll:e===O.all,isOnTouch:e===O.onTouched}),L=(e,r,s)=>!s&&(r.watchAll||r.watch.has(e)||[...r.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));let Z=(e,r,s,t)=>{for(let a of s||Object.keys(e)){let s=w(e,a);if(s){let{_f:e,...i}=s;if(e){if(e.refs&&e.refs[0]&&r(e.refs[0],a)&&!t||e.ref&&r(e.ref,e.name)&&!t)return!0;if(Z(i,r))break}else if(g(i)&&Z(i,r))break}}};var z=(e,r,s)=>{let t=q(w(e,s));return D(t,"root",r[s]),D(e,s,t),e},H=e=>"file"===e.type,U=e=>"function"==typeof e,W=e=>{if(!N)return!1;let r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Y=e=>Q(e),G=e=>"radio"===e.type,K=e=>e instanceof RegExp;let $={value:!1,isValid:!1},J={value:!0,isValid:!0};var X=e=>{if(Array.isArray(e)){if(e.length>1){let r=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!F(e[0].attributes.value)?F(e[0].value)||""===e[0].value?J:{value:e[0].value,isValid:!0}:J:$}return $};let ee={isValid:!1,value:null};var er=e=>Array.isArray(e)?e.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,ee):ee;function es(e,r,s="validate"){if(Y(e)||Array.isArray(e)&&e.every(Y)||I(e)&&!e)return{type:s,message:Y(e)?e:"",ref:r}}var et=e=>g(e)&&!K(e)?e:{value:e,message:""},ea=async(e,r,s,t,a)=>{let{ref:i,refs:l,required:n,maxLength:d,minLength:c,min:o,max:u,pattern:h,validate:x,name:j,valueAsNumber:f,mount:y,disabled:v}=e._f,b=w(r,j);if(!y||v)return{};let N=l?l[0]:i,S=e=>{t&&N.reportValidity&&(N.setCustomValidity(I(e)?"":e||""),N.reportValidity())},_={},k=G(i),A=m(i),D=(f||H(i))&&F(i.value)&&F(b)||W(i)&&""===i.value||""===b||Array.isArray(b)&&!b.length,C=M.bind(null,j,s,_),O=(e,r,s,t=T.maxLength,a=T.minLength)=>{let l=e?r:s;_[j]={type:e?t:a,message:l,ref:i,...C(e?t:a,l)}};if(a?!Array.isArray(b)||!b.length:n&&(!(k||A)&&(D||p(b))||I(b)&&!b||A&&!X(l).isValid||k&&!er(l).isValid)){let{value:e,message:r}=Y(n)?{value:!!n,message:n}:et(n);if(e&&(_[j]={type:T.required,message:r,ref:N,...C(T.required,r)},!s))return S(r),_}if(!D&&(!p(o)||!p(u))){let e,r;let t=et(u),a=et(o);if(p(b)||isNaN(b)){let s=i.valueAsDate||new Date(b),l=e=>new Date(new Date().toDateString()+" "+e),n="time"==i.type,d="week"==i.type;Q(t.value)&&b&&(e=n?l(b)>l(t.value):d?b>t.value:s>new Date(t.value)),Q(a.value)&&b&&(r=n?l(b)<l(a.value):d?b<a.value:s<new Date(a.value))}else{let s=i.valueAsNumber||(b?+b:b);p(t.value)||(e=s>t.value),p(a.value)||(r=s<a.value)}if((e||r)&&(O(!!e,t.message,a.message,T.max,T.min),!s))return S(_[j].message),_}if((d||c)&&!D&&(Q(b)||a&&Array.isArray(b))){let e=et(d),r=et(c),t=!p(e.value)&&b.length>+e.value,a=!p(r.value)&&b.length<+r.value;if((t||a)&&(O(t,e.message,r.message),!s))return S(_[j].message),_}if(h&&!D&&Q(b)){let{value:e,message:r}=et(h);if(K(e)&&!b.match(e)&&(_[j]={type:T.pattern,message:r,ref:i,...C(T.pattern,r)},!s))return S(r),_}if(x){if(U(x)){let e=es(await x(b,r),N);if(e&&(_[j]={...e,...C(T.validate,e.message)},!s))return S(e.message),_}else if(g(x)){let e={};for(let t in x){if(!P(e)&&!s)break;let a=es(await x[t](b,r),N,t);a&&(e={...a,...C(t,a.message)},S(a.message),s&&(_[j]=e))}if(!P(e)&&(_[j]={ref:N,...e},!s))return _}}return S(!0),_};function ei(e,r){let s=Array.isArray(r)?r:k(r)?[r]:A(r),t=1===s.length?e:function(e,r){let s=r.slice(0,-1).length,t=0;for(;t<s;)e=F(e)?t++:e[r[t++]];return e}(e,s),a=s.length-1,i=s[a];return t&&delete t[i],0!==a&&(g(t)&&P(t)||Array.isArray(t)&&function(e){for(let r in e)if(e.hasOwnProperty(r)&&!F(e[r]))return!1;return!0}(t))&&ei(e,s.slice(0,-1)),e}var el=()=>{let e=[];return{get observers(){return e},next:r=>{for(let s of e)s.next&&s.next(r)},subscribe:r=>(e.push(r),{unsubscribe:()=>{e=e.filter(e=>e!==r)}}),unsubscribe:()=>{e=[]}}},en=e=>p(e)||!j(e);function ed(e,r){if(en(e)||en(r))return e===r;if(x(e)&&x(r))return e.getTime()===r.getTime();let s=Object.keys(e),t=Object.keys(r);if(s.length!==t.length)return!1;for(let a of s){let s=e[a];if(!t.includes(a))return!1;if("ref"!==a){let e=r[a];if(x(s)&&x(e)||g(s)&&g(e)||Array.isArray(s)&&Array.isArray(e)?!ed(s,e):s!==e)return!1}}return!0}var ec=e=>"select-multiple"===e.type,eo=e=>G(e)||m(e),eu=e=>W(e)&&e.isConnected,eh=e=>{for(let r in e)if(U(e[r]))return!0;return!1};function em(e,r={}){let s=Array.isArray(e);if(g(e)||s)for(let s in e)Array.isArray(e[s])||g(e[s])&&!eh(e[s])?(r[s]=Array.isArray(e[s])?[]:{},em(e[s],r[s])):p(e[s])||(r[s]=!0);return r}var ex=(e,r)=>(function e(r,s,t){let a=Array.isArray(r);if(g(r)||a)for(let a in r)Array.isArray(r[a])||g(r[a])&&!eh(r[a])?F(s)||en(t[a])?t[a]=Array.isArray(r[a])?em(r[a],[]):{...em(r[a])}:e(r[a],p(s)?{}:s[a],t[a]):t[a]=!ed(r[a],s[a]);return t})(e,r,em(r)),ep=(e,{valueAsNumber:r,valueAsDate:s,setValueAs:t})=>F(e)?e:r?""===e?NaN:e?+e:e:s&&Q(e)?new Date(e):t?t(e):e;function ej(e){let r=e.ref;return(e.refs?e.refs.every(e=>e.disabled):r.disabled)?void 0:H(r)?r.files:G(r)?er(e.refs).value:ec(r)?[...r.selectedOptions].map(({value:e})=>e):m(r)?X(e.refs).value:ep(F(r.value)?e.ref.value:r.value,e)}var eg=(e,r,s,t)=>{let a={};for(let s of e){let e=w(r,s);e&&D(a,s,e._f)}return{criteriaMode:s,names:[...e],fields:a,shouldUseNativeValidation:t}},ef=e=>F(e)?e:K(e)?e.source:g(e)?K(e.value)?e.value.source:e.value:e;let ey="AsyncFunction";var ev=e=>(!e||!e.validate)&&!!(U(e.validate)&&e.validate.constructor.name===ey||g(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===ey)),eb=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function eN(e,r,s){let t=w(e,s);if(t||k(s))return{error:t,name:s};let a=s.split(".");for(;a.length;){let t=a.join("."),i=w(r,t),l=w(e,t);if(i&&!Array.isArray(i)&&s!==t)break;if(l&&l.type)return{name:t,error:l};a.pop()}return{name:s}}var eS=(e,r,s,t,a)=>!a.isOnAll&&(!s&&a.isOnTouch?!(r||e):(s?t.isOnBlur:a.isOnBlur)?!e:(s?!t.isOnChange:!a.isOnChange)||e),e_=(e,r)=>!_(w(e,r)).length&&ei(e,r);let eF={mode:O.onSubmit,reValidateMode:O.onChange,shouldFocusError:!0};function ew(e={}){let r=a.useRef(),s=a.useRef(),[t,i]=a.useState({isDirty:!1,isValidating:!1,isLoading:U(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:U(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...function(e={}){let r,s={...eF,...e},t={submitCount:0,isDirty:!1,isLoading:U(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},a={},i=(g(s.defaultValues)||g(s.values))&&S(s.defaultValues||s.values)||{},l=s.shouldUnregister?{}:S(i),n={action:!1,mount:!1,watch:!1},d={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c=0,o={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},u={values:el(),array:el(),state:el()},h=B(s.mode),j=B(s.reValidateMode),y=s.criteriaMode===O.all,b=e=>r=>{clearTimeout(c),c=setTimeout(e,r)},k=async e=>{if(o.isValid||e){let e=s.resolver?P((await Y()).errors):await K(a,!0);e!==t.isValid&&u.state.next({isValid:e})}},A=(e,r)=>{(o.isValidating||o.validatingFields)&&((e||Array.from(d.mount)).forEach(e=>{e&&(r?D(t.validatingFields,e,r):ei(t.validatingFields,e))}),u.state.next({validatingFields:t.validatingFields,isValidating:!P(t.validatingFields)}))},T=(e,r)=>{D(t.errors,e,r),u.state.next({errors:t.errors})},V=(e,r,s,t)=>{let d=w(a,e);if(d){let a=w(l,e,F(s)?w(i,e):s);F(a)||t&&t.defaultChecked||r?D(l,e,r?a:ej(d._f)):X(e,a),n.mount&&k()}},R=(e,r,s,l,n)=>{let d=!1,c=!1,h={name:e},m=!!(w(a,e)&&w(a,e)._f&&w(a,e)._f.disabled);if(!s||l){o.isDirty&&(c=t.isDirty,t.isDirty=h.isDirty=$(),d=c!==h.isDirty);let s=m||ed(w(i,e),r);c=!!(!m&&w(t.dirtyFields,e)),s||m?ei(t.dirtyFields,e):D(t.dirtyFields,e,!0),h.dirtyFields=t.dirtyFields,d=d||o.dirtyFields&&!s!==c}if(s){let r=w(t.touchedFields,e);r||(D(t.touchedFields,e,s),h.touchedFields=t.touchedFields,d=d||o.touchedFields&&r!==s)}return d&&n&&u.state.next(h),d?h:{}},M=(s,a,i,l)=>{let n=w(t.errors,s),d=o.isValid&&I(a)&&t.isValid!==a;if(e.delayError&&i?(r=b(()=>T(s,i)))(e.delayError):(clearTimeout(c),r=null,i?D(t.errors,s,i):ei(t.errors,s)),(i?!ed(n,i):n)||!P(l)||d){let e={...l,...d&&I(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...e},u.state.next(e)}},Y=async e=>{A(e,!0);let r=await s.resolver(l,s.context,eg(e||d.mount,a,s.criteriaMode,s.shouldUseNativeValidation));return A(e),r},G=async e=>{let{errors:r}=await Y(e);if(e)for(let s of e){let e=w(r,s);e?D(t.errors,s,e):ei(t.errors,s)}else t.errors=r;return r},K=async(e,r,a={valid:!0})=>{for(let i in e){let n=e[i];if(n){let{_f:e,...c}=n;if(e){let c=d.array.has(e.name),u=n._f&&ev(n._f);u&&o.validatingFields&&A([i],!0);let h=await ea(n,l,y,s.shouldUseNativeValidation&&!r,c);if(u&&o.validatingFields&&A([i]),h[e.name]&&(a.valid=!1,r))break;r||(w(h,e.name)?c?z(t.errors,h,e.name):D(t.errors,e.name,h[e.name]):ei(t.errors,e.name))}P(c)||await K(c,r,a)}}return a.valid},$=(e,r)=>(e&&r&&D(l,e,r),!ed(em(),i)),J=(e,r,s)=>E(e,d,{...n.mount?l:F(r)?i:Q(e)?{[e]:r}:r},s,r),X=(e,r,s={})=>{let t=w(a,e),i=r;if(t){let s=t._f;s&&(s.disabled||D(l,e,ep(r,s)),i=W(s.ref)&&p(r)?"":r,ec(s.ref)?[...s.ref.options].forEach(e=>e.selected=i.includes(e.value)):s.refs?m(s.ref)?s.refs.length>1?s.refs.forEach(e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find(r=>r===e.value):i===e.value)):s.refs[0]&&(s.refs[0].checked=!!i):s.refs.forEach(e=>e.checked=e.value===i):H(s.ref)?s.ref.value="":(s.ref.value=i,s.ref.type||u.values.next({name:e,values:{...l}})))}(s.shouldDirty||s.shouldTouch)&&R(e,i,s.shouldTouch,s.shouldDirty,!0),s.shouldValidate&&eh(e)},ee=(e,r,s)=>{for(let t in r){let i=r[t],l=`${e}.${t}`,n=w(a,l);!d.array.has(e)&&en(i)&&(!n||n._f)||x(i)?X(l,i,s):ee(l,i,s)}},er=(e,r,s={})=>{let c=w(a,e),h=d.array.has(e),m=S(r);D(l,e,m),h?(u.array.next({name:e,values:{...l}}),(o.isDirty||o.dirtyFields)&&s.shouldDirty&&u.state.next({name:e,dirtyFields:ex(i,l),isDirty:$(e,m)})):!c||c._f||p(m)?X(e,m,s):ee(e,m,s),L(e,d)&&u.state.next({...t}),u.values.next({name:n.mount?e:void 0,values:{...l}})},es=async i=>{n.mount=!0;let c=i.target,m=c.name,x=!0,p=w(a,m),g=e=>{x=Number.isNaN(e)||ed(e,w(l,m,e))};if(p){let n,v;let b=c.type?ej(p._f):f(i),N=i.type===C.BLUR||i.type===C.FOCUS_OUT,S=!eb(p._f)&&!s.resolver&&!w(t.errors,m)&&!p._f.deps||eS(N,w(t.touchedFields,m),t.isSubmitted,j,h),_=L(m,d,N);D(l,m,b),N?(p._f.onBlur&&p._f.onBlur(i),r&&r(0)):p._f.onChange&&p._f.onChange(i);let F=R(m,b,N,!1),I=!P(F)||_;if(N||u.values.next({name:m,type:i.type,values:{...l}}),S)return o.isValid&&("onBlur"===e.mode?N&&k():k()),I&&u.state.next({name:m,..._?{}:F});if(!N&&_&&u.state.next({...t}),s.resolver){let{errors:e}=await Y([m]);if(g(b),x){let r=eN(t.errors,a,m),s=eN(e,a,r.name||m);n=s.error,m=s.name,v=P(e)}}else A([m],!0),n=(await ea(p,l,y,s.shouldUseNativeValidation))[m],A([m]),g(b),x&&(n?v=!1:o.isValid&&(v=await K(a,!0)));x&&(p._f.deps&&eh(p._f.deps),M(m,v,n,F))}},et=(e,r)=>{if(w(t.errors,r)&&e.focus)return e.focus(),1},eh=async(e,r={})=>{let i,l;let n=q(e);if(s.resolver){let r=await G(F(e)?e:n);i=P(r),l=e?!n.some(e=>w(r,e)):i}else e?((l=(await Promise.all(n.map(async e=>{let r=w(a,e);return await K(r&&r._f?{[e]:r}:r)}))).every(Boolean))||t.isValid)&&k():l=i=await K(a);return u.state.next({...!Q(e)||o.isValid&&i!==t.isValid?{}:{name:e},...s.resolver||!e?{isValid:i}:{},errors:t.errors}),r.shouldFocus&&!l&&Z(a,et,e?n:d.mount),l},em=e=>{let r={...n.mount?l:i};return F(e)?r:Q(e)?w(r,e):e.map(e=>w(r,e))},ey=(e,r)=>({invalid:!!w((r||t).errors,e),isDirty:!!w((r||t).dirtyFields,e),error:w((r||t).errors,e),isValidating:!!w(t.validatingFields,e),isTouched:!!w((r||t).touchedFields,e)}),ew=(e,r,s)=>{let i=(w(a,e,{_f:{}})._f||{}).ref,{ref:l,message:n,type:d,...c}=w(t.errors,e)||{};D(t.errors,e,{...c,...r,ref:i}),u.state.next({name:e,errors:t.errors,isValid:!1}),s&&s.shouldFocus&&i&&i.focus&&i.focus()},eI=(e,r={})=>{for(let n of e?q(e):d.mount)d.mount.delete(n),d.array.delete(n),r.keepValue||(ei(a,n),ei(l,n)),r.keepError||ei(t.errors,n),r.keepDirty||ei(t.dirtyFields,n),r.keepTouched||ei(t.touchedFields,n),r.keepIsValidating||ei(t.validatingFields,n),s.shouldUnregister||r.keepDefaultValue||ei(i,n);u.values.next({values:{...l}}),u.state.next({...t,...r.keepDirty?{isDirty:$()}:{}}),r.keepIsValid||k()},ek=({disabled:e,name:r,field:s,fields:t,value:a})=>{if(I(e)&&n.mount||e){let i=e?void 0:F(a)?ej(s?s._f:w(t,r)._f):a;D(l,r,i),R(r,i,!1,!1,!0)}},eA=(r,t={})=>{let l=w(a,r),c=I(t.disabled)||I(e.disabled);return D(a,r,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:r}},name:r,mount:!0,...t}}),d.mount.add(r),l?ek({field:l,disabled:I(t.disabled)?t.disabled:e.disabled,name:r,value:t.value}):V(r,!0,t.value),{...c?{disabled:t.disabled||e.disabled}:{},...s.progressive?{required:!!t.required,min:ef(t.min),max:ef(t.max),minLength:ef(t.minLength),maxLength:ef(t.maxLength),pattern:ef(t.pattern)}:{},name:r,onChange:es,onBlur:es,ref:e=>{if(e){eA(r,t),l=w(a,r);let s=F(e.value)&&e.querySelectorAll&&e.querySelectorAll("input,select,textarea")[0]||e,n=eo(s),d=l._f.refs||[];(n?d.find(e=>e===s):s===l._f.ref)||(D(a,r,{_f:{...l._f,...n?{refs:[...d.filter(eu),s,...Array.isArray(w(i,r))?[{}]:[]],ref:{type:s.type,name:r}}:{ref:s}}}),V(r,!1,void 0,s))}else(l=w(a,r,{}))._f&&(l._f.mount=!1),(s.shouldUnregister||t.shouldUnregister)&&!(v(d.array,r)&&n.action)&&d.unMount.add(r)}}},eD=()=>s.shouldFocusError&&Z(a,et,d.mount),eC=(e,r)=>async i=>{let n;i&&(i.preventDefault&&i.preventDefault(),i.persist&&i.persist());let d=S(l);if(u.state.next({isSubmitting:!0}),s.resolver){let{errors:e,values:r}=await Y();t.errors=e,d=r}else await K(a);if(ei(t.errors,"root"),P(t.errors)){u.state.next({errors:{}});try{await e(d,i)}catch(e){n=e}}else r&&await r({...t.errors},i),eD(),setTimeout(eD);if(u.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:P(t.errors)&&!n,submitCount:t.submitCount+1,errors:t.errors}),n)throw n},eO=(r,s={})=>{let c=r?S(r):i,h=S(c),m=P(r),x=m?i:h;if(s.keepDefaultValues||(i=c),!s.keepValues){if(s.keepDirtyValues)for(let e of d.mount)w(t.dirtyFields,e)?D(x,e,w(l,e)):er(e,w(x,e));else{if(N&&F(r))for(let e of d.mount){let r=w(a,e);if(r&&r._f){let e=Array.isArray(r._f.refs)?r._f.refs[0]:r._f.ref;if(W(e)){let r=e.closest("form");if(r){r.reset();break}}}}a={}}l=e.shouldUnregister?s.keepDefaultValues?S(i):{}:S(x),u.array.next({values:{...x}}),u.values.next({values:{...x}})}d={mount:s.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},n.mount=!o.isValid||!!s.keepIsValid||!!s.keepDirtyValues,n.watch=!!e.shouldUnregister,u.state.next({submitCount:s.keepSubmitCount?t.submitCount:0,isDirty:!m&&(s.keepDirty?t.isDirty:!!(s.keepDefaultValues&&!ed(r,i))),isSubmitted:!!s.keepIsSubmitted&&t.isSubmitted,dirtyFields:m?{}:s.keepDirtyValues?s.keepDefaultValues&&l?ex(i,l):t.dirtyFields:s.keepDefaultValues&&r?ex(i,r):s.keepDirty?t.dirtyFields:{},touchedFields:s.keepTouched?t.touchedFields:{},errors:s.keepErrors?t.errors:{},isSubmitSuccessful:!!s.keepIsSubmitSuccessful&&t.isSubmitSuccessful,isSubmitting:!1})},eT=(e,r)=>eO(U(e)?e(l):e,r);return{control:{register:eA,unregister:eI,getFieldState:ey,handleSubmit:eC,setError:ew,_executeSchema:Y,_getWatch:J,_getDirty:$,_updateValid:k,_removeUnmounted:()=>{for(let e of d.unMount){let r=w(a,e);r&&(r._f.refs?r._f.refs.every(e=>!eu(e)):!eu(r._f.ref))&&eI(e)}d.unMount=new Set},_updateFieldArray:(e,r=[],s,d,c=!0,h=!0)=>{if(d&&s){if(n.action=!0,h&&Array.isArray(w(a,e))){let r=s(w(a,e),d.argA,d.argB);c&&D(a,e,r)}if(h&&Array.isArray(w(t.errors,e))){let r=s(w(t.errors,e),d.argA,d.argB);c&&D(t.errors,e,r),e_(t.errors,e)}if(o.touchedFields&&h&&Array.isArray(w(t.touchedFields,e))){let r=s(w(t.touchedFields,e),d.argA,d.argB);c&&D(t.touchedFields,e,r)}o.dirtyFields&&(t.dirtyFields=ex(i,l)),u.state.next({name:e,isDirty:$(e,r),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else D(l,e,r)},_updateDisabledField:ek,_getFieldArray:r=>_(w(n.mount?l:i,r,e.shouldUnregister?w(i,r,[]):[])),_reset:eO,_resetDefaultValues:()=>U(s.defaultValues)&&s.defaultValues().then(e=>{eT(e,s.resetOptions),u.state.next({isLoading:!1})}),_updateFormState:e=>{t={...t,...e}},_disableForm:e=>{I(e)&&(u.state.next({disabled:e}),Z(a,(r,s)=>{let t=w(a,s);t&&(r.disabled=t._f.disabled||e,Array.isArray(t._f.refs)&&t._f.refs.forEach(r=>{r.disabled=t._f.disabled||e}))},0,!1))},_subjects:u,_proxyFormState:o,_setErrors:e=>{t.errors=e,u.state.next({errors:t.errors,isValid:!1})},get _fields(){return a},get _formValues(){return l},get _state(){return n},set _state(value){n=value},get _defaultValues(){return i},get _names(){return d},set _names(value){d=value},get _formState(){return t},set _formState(value){t=value},get _options(){return s},set _options(value){s={...s,...value}}},trigger:eh,register:eA,handleSubmit:eC,watch:(e,r)=>U(e)?u.values.subscribe({next:s=>e(J(void 0,r),s)}):J(e,r,!0),setValue:er,getValues:em,reset:eT,resetField:(e,r={})=>{w(a,e)&&(F(r.defaultValue)?er(e,S(w(i,e))):(er(e,r.defaultValue),D(i,e,S(r.defaultValue))),r.keepTouched||ei(t.touchedFields,e),r.keepDirty||(ei(t.dirtyFields,e),t.isDirty=r.defaultValue?$(e,S(w(i,e))):$()),!r.keepError&&(ei(t.errors,e),o.isValid&&k()),u.state.next({...t}))},clearErrors:e=>{e&&q(e).forEach(e=>ei(t.errors,e)),u.state.next({errors:e?t.errors:{}})},unregister:eI,setError:ew,setFocus:(e,r={})=>{let s=w(a,e),t=s&&s._f;if(t){let e=t.refs?t.refs[0]:t.ref;e.focus&&(e.focus(),r.shouldSelect&&e.select())}},getFieldState:ey}}(e),formState:t});let l=r.current.control;return l._options=e,function(e){let r=a.useRef(e);r.current=e,a.useEffect(()=>{let s=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{s&&s.unsubscribe()}},[e.disabled])}({subject:l._subjects.state,next:e=>{R(e,l._proxyFormState,l._updateFormState,!0)&&i({...l._formState})}}),a.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),a.useEffect(()=>{if(l._proxyFormState.isDirty){let e=l._getDirty();e!==t.isDirty&&l._subjects.state.next({isDirty:e})}},[l,t.isDirty]),a.useEffect(()=>{e.values&&!ed(e.values,s.current)?(l._reset(e.values,l._options.resetOptions),s.current=e.values,i(e=>({...e}))):l._resetDefaultValues()},[e.values,l]),a.useEffect(()=>{e.errors&&l._setErrors(e.errors)},[e.errors,l]),a.useEffect(()=>{l._state.mount||(l._updateValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),a.useEffect(()=>{e.shouldUnregister&&l._subjects.values.next({values:l._getWatch()})},[e.shouldUnregister,l]),r.current.formState=V(t,l),r.current}var eI=s(27878),ek=s(250),eA=s(82657),eD=s(68637);let eC=a.forwardRef(({className:e,...r},s)=>t.jsx("textarea",{className:(0,eD.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));eC.displayName="Textarea";var eO=s(72388);let eT=(0,s(47279).j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),eV=a.forwardRef(({className:e,variant:r,...s},a)=>t.jsx("div",{ref:a,role:"alert",className:(0,eD.cn)(eT({variant:r}),e),...s}));eV.displayName="Alert",a.forwardRef(({className:e,...r},s)=>t.jsx("h5",{ref:s,className:(0,eD.cn)("mb-1 font-medium leading-none tracking-tight",e),...r})).displayName="AlertTitle";let eP=a.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:(0,eD.cn)("text-sm [&_p]:leading-relaxed",e),...r}));eP.displayName="AlertDescription";var eR=s(71945);let eq=(0,eR.Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var eQ=s(23094);let eE=(0,eR.Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),eM=0,eB=new Map,eL=e=>{if(eB.has(e))return;let r=setTimeout(()=>{eB.delete(e),eU({type:"REMOVE_TOAST",toastId:e})},1e6);eB.set(e,r)},eZ=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=r;return s?eL(s):e.toasts.forEach(e=>{eL(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===r.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)}}},ez=[],eH={toasts:[]};function eU(e){eH=eZ(eH,e),ez.forEach(e=>{e(eH)})}function eW({...e}){let r=(eM=(eM+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>eU({type:"DISMISS_TOAST",toastId:r});return eU({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>eU({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function eY(){let[e,r]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!1),[n,d]=(0,a.useState)(null),{register:c,handleSubmit:o,setValue:u,watch:h,reset:m,formState:{errors:x}}=ew(),p=async e=>{r(!0),l(!1);try{let r=await fetch("/api/data-entry/casting-run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,heatId:parseInt(e.heatId),rpmSetting:parseInt(e.rpmSetting.toString()),actualRpm:parseInt(e.actualRpm.toString()),pourTemperature:parseFloat(e.pourTemperature.toString()),ambientTemperature:parseFloat(e.ambientTemperature.toString()),castingWeightKg:parseFloat(e.castingWeightKg.toString()),cycleTimeMinutes:parseInt(e.cycleTimeMinutes.toString()),operationalGravity:parseFloat(e.operationalGravity.toString())})});if(r.ok)l(!0),m(),eW({title:"Casting Run Recorded",description:"Production data has been successfully saved."}),setTimeout(()=>l(!1),3e3);else{let e=await r.json();throw Error(e.error||"Failed to save casting run")}}catch(e){console.error("Error saving casting run:",e),eW({title:"Error",description:e instanceof Error?e.message:"Failed to save casting run",variant:"destructive"})}finally{r(!1)}};return n?(0,t.jsxs)("form",{onSubmit:o(p),className:"space-y-6",children:[s&&(0,t.jsxs)(eV,{className:"border-green-200 bg-green-50",children:[t.jsx(eQ.Z,{className:"h-4 w-4 text-green-600"}),t.jsx(eP,{className:"text-green-800",children:"Casting run data has been successfully recorded!"})]}),(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:t.jsx(i.ll,{className:"text-lg",children:"Job Information"})}),(0,t.jsxs)(i.aY,{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"workOrderId",children:"Work Order *"}),(0,t.jsxs)(eO.Ph,{onValueChange:e=>u("workOrderId",e),children:[t.jsx(eO.i4,{children:t.jsx(eO.ki,{placeholder:"Select work order"})}),t.jsx(eO.Bw,{children:n.workOrders.map(e=>t.jsx(eO.Ql,{value:e.id,children:e.workOrderNumber},e.id))})]}),x.workOrderId&&t.jsx("p",{className:"text-sm text-red-600",children:"Work order is required"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"heatId",children:"Heat Number *"}),(0,t.jsxs)(eO.Ph,{onValueChange:e=>u("heatId",e),children:[t.jsx(eO.i4,{children:t.jsx(eO.ki,{placeholder:"Select heat number"})}),t.jsx(eO.Bw,{children:n.heatNumbers.map(e=>(0,t.jsxs)(eO.Ql,{value:e.id.toString(),children:[e.heatNumber," (",e.alloyType.alloyName,")"]},e.id))})]}),x.heatId&&t.jsx("p",{className:"text-sm text-red-600",children:"Heat number is required"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"moldId",children:"Mold *"}),(0,t.jsxs)(eO.Ph,{onValueChange:e=>u("moldId",e),children:[t.jsx(eO.i4,{children:t.jsx(eO.ki,{placeholder:"Select mold"})}),t.jsx(eO.Bw,{children:n.molds.map(e=>(0,t.jsxs)(eO.Ql,{value:e.id,children:[e.id," - ",e.moldType," (",e.castingSize,")"]},e.id))})]}),x.moldId&&t.jsx("p",{className:"text-sm text-red-600",children:"Mold selection is required"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"spinnerId",children:"Spinner Equipment *"}),(0,t.jsxs)(eO.Ph,{onValueChange:e=>u("spinnerId",e),children:[t.jsx(eO.i4,{children:t.jsx(eO.ki,{placeholder:"Select spinner"})}),t.jsx(eO.Bw,{children:n.spinners.map(e=>(0,t.jsxs)(eO.Ql,{value:e.id,children:[e.id," - ",e.equipmentModel]},e.id))})]}),x.spinnerId&&t.jsx("p",{className:"text-sm text-red-600",children:"Spinner selection is required"})]})]})]}),(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:t.jsx(i.ll,{className:"text-lg",children:"Operational Details"})}),(0,t.jsxs)(i.aY,{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"shiftNumber",children:"Shift *"}),(0,t.jsxs)(eO.Ph,{onValueChange:e=>u("shiftNumber",e),children:[t.jsx(eO.i4,{children:t.jsx(eO.ki,{placeholder:"Select shift"})}),(0,t.jsxs)(eO.Bw,{children:[t.jsx(eO.Ql,{value:"A",children:"Shift A (Day)"}),t.jsx(eO.Ql,{value:"B",children:"Shift B (Evening)"}),t.jsx(eO.Ql,{value:"C",children:"Shift C (Night)"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"operatorId",children:"Operator ID *"}),t.jsx(ek.I,{id:"operatorId",placeholder:"e.g., OP001",...c("operatorId",{required:"Operator ID is required"})}),x.operatorId&&t.jsx("p",{className:"text-sm text-red-600",children:x.operatorId.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"status",children:"Status"}),(0,t.jsxs)(eO.Ph,{onValueChange:e=>u("status",e),children:[t.jsx(eO.i4,{children:t.jsx(eO.ki,{placeholder:"Select status"})}),(0,t.jsxs)(eO.Bw,{children:[t.jsx(eO.Ql,{value:"Completed",children:"Completed"}),t.jsx(eO.Ql,{value:"In Progress",children:"In Progress"}),t.jsx(eO.Ql,{value:"On Hold",children:"On Hold"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"castingDate",children:"Casting Date *"}),t.jsx(ek.I,{id:"castingDate",type:"date",...c("castingDate",{required:"Casting date is required"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"castingTime",children:"Casting Time *"}),t.jsx(ek.I,{id:"castingTime",type:"time",...c("castingTime",{required:"Casting time is required"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"packageInfo",children:"Package/Batch Info"}),t.jsx(ek.I,{id:"packageInfo",placeholder:"e.g., Batch A-001",...c("packageInfo")})]})]})]}),(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:t.jsx(i.ll,{className:"text-lg",children:"Process Parameters"})}),(0,t.jsxs)(i.aY,{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"rpmSetting",children:"RPM Setting *"}),t.jsx(ek.I,{id:"rpmSetting",type:"number",placeholder:"e.g., 650",...c("rpmSetting",{required:"RPM setting is required",min:{value:100,message:"RPM must be at least 100"},max:{value:1e3,message:"RPM must be less than 1000"}})}),x.rpmSetting&&t.jsx("p",{className:"text-sm text-red-600",children:x.rpmSetting.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"actualRpm",children:"Actual RPM *"}),t.jsx(ek.I,{id:"actualRpm",type:"number",placeholder:"e.g., 648",...c("actualRpm",{required:"Actual RPM is required",min:{value:100,message:"RPM must be at least 100"},max:{value:1e3,message:"RPM must be less than 1000"}})}),x.actualRpm&&t.jsx("p",{className:"text-sm text-red-600",children:x.actualRpm.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"pourTemperature",children:"Pour Temperature (\xb0C) *"}),t.jsx(ek.I,{id:"pourTemperature",type:"number",step:"0.1",placeholder:"e.g., 1495.5",...c("pourTemperature",{required:"Pour temperature is required",min:{value:1e3,message:"Temperature seems too low"},max:{value:2e3,message:"Temperature seems too high"}})}),x.pourTemperature&&t.jsx("p",{className:"text-sm text-red-600",children:x.pourTemperature.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"ambientTemperature",children:"Ambient Temp (\xb0C)"}),t.jsx(ek.I,{id:"ambientTemperature",type:"number",step:"0.1",placeholder:"e.g., 22.5",...c("ambientTemperature")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"castingWeightKg",children:"Casting Weight (kg) *"}),t.jsx(ek.I,{id:"castingWeightKg",type:"number",step:"0.01",placeholder:"e.g., 23.75",...c("castingWeightKg",{required:"Casting weight is required",min:{value:.1,message:"Weight must be positive"}})}),x.castingWeightKg&&t.jsx("p",{className:"text-sm text-red-600",children:x.castingWeightKg.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"cycleTimeMinutes",children:"Cycle Time (minutes)"}),t.jsx(ek.I,{id:"cycleTimeMinutes",type:"number",placeholder:"e.g., 45",...c("cycleTimeMinutes",{min:{value:1,message:"Cycle time must be positive"}})}),x.cycleTimeMinutes&&t.jsx("p",{className:"text-sm text-red-600",children:x.cycleTimeMinutes.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"operationalGravity",children:"Operational Gravity"}),t.jsx(ek.I,{id:"operationalGravity",type:"number",step:"0.001",placeholder:"e.g., 7.850",...c("operationalGravity")})]})]})]}),(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:t.jsx(i.ll,{className:"text-lg",children:"Additional Notes"})}),t.jsx(i.aY,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"notes",children:"Production Notes"}),t.jsx(eC,{id:"notes",placeholder:"Any additional observations, issues, or comments...",rows:3,...c("notes")})]})})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[t.jsx(eI.z,{type:"button",variant:"outline",onClick:()=>m(),disabled:e,children:"Clear Form"}),t.jsx(eI.z,{type:"submit",disabled:e,children:e?(0,t.jsxs)(t.Fragment,{children:[t.jsx(eq,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(eE,{className:"mr-2 h-4 w-4"}),"Save Casting Run"]})})]})]}):(0,t.jsxs)("div",{className:"flex items-center justify-center p-8",children:[t.jsx(eq,{className:"h-6 w-6 animate-spin mr-2"}),"Loading form options..."]})}function eG(){let[e,r]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!1),[d,c]=(0,a.useState)([]),{register:o,handleSubmit:u,setValue:h,watch:m,reset:x,formState:{errors:p}}=ew(),j=m("overallRating"),g=m("surfaceQualityRating"),f=m("internalQualityRating"),y=async e=>{r(!0),l(!1);try{let r=await fetch("/api/data-entry/quality-inspection",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,castingRunId:parseInt(e.castingRunId),overallRating:parseInt(e.overallRating.toString()),surfaceQualityRating:parseInt(e.surfaceQualityRating.toString()),internalQualityRating:parseInt(e.internalQualityRating.toString())})});if(r.ok)l(!0),x(),eW({title:"Quality Inspection Recorded",description:"Inspection data has been successfully saved."}),setTimeout(()=>l(!1),3e3);else{let e=await r.json();throw Error(e.error||"Failed to save inspection")}}catch(e){console.error("Error saving inspection:",e),eW({title:"Error",description:e instanceof Error?e.message:"Failed to save inspection",variant:"destructive"})}finally{r(!1)}},v=e=>1===e?"bg-green-500":2===e?"bg-yellow-500":3===e?"bg-red-500":"bg-gray-300",b=e=>1===e?"Excellent":2===e?"Acceptable":3===e?"Needs Attention":"Not Rated";return(0,t.jsxs)("form",{onSubmit:u(y),className:"space-y-6",children:[s&&(0,t.jsxs)(eV,{className:"border-green-200 bg-green-50",children:[t.jsx(eQ.Z,{className:"h-4 w-4 text-green-600"}),t.jsx(eP,{className:"text-green-800",children:"Quality inspection has been successfully recorded!"})]}),(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:t.jsx(i.ll,{className:"text-lg",children:"Inspection Details"})}),(0,t.jsxs)(i.aY,{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"castingRunId",children:"Casting Run *"}),(0,t.jsxs)(eO.Ph,{onValueChange:e=>h("castingRunId",e),children:[t.jsx(eO.i4,{children:t.jsx(eO.ki,{placeholder:"Select casting run to inspect"})}),t.jsx(eO.Bw,{children:d.map(e=>(0,t.jsxs)(eO.Ql,{value:e.id.toString(),children:[e.workOrder.workOrderNumber," - Heat ",e.heatNumber.heatNumber,"(",new Date(e.castingDate).toLocaleDateString(),")"]},e.id))})]}),p.castingRunId&&t.jsx("p",{className:"text-sm text-red-600",children:"Casting run selection is required"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"inspectorId",children:"Inspector ID *"}),t.jsx(ek.I,{id:"inspectorId",placeholder:"e.g., QA001",...o("inspectorId",{required:"Inspector ID is required"})}),p.inspectorId&&t.jsx("p",{className:"text-sm text-red-600",children:p.inspectorId.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"inspectionDate",children:"Inspection Date *"}),t.jsx(ek.I,{id:"inspectionDate",type:"date",...o("inspectionDate",{required:"Inspection date is required"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"inspectionTime",children:"Inspection Time *"}),t.jsx(ek.I,{id:"inspectionTime",type:"time",...o("inspectionTime",{required:"Inspection time is required"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"inspectionType",children:"Inspection Type *"}),(0,t.jsxs)(eO.Ph,{onValueChange:e=>h("inspectionType",e),children:[t.jsx(eO.i4,{children:t.jsx(eO.ki,{placeholder:"Select inspection type"})}),(0,t.jsxs)(eO.Bw,{children:[t.jsx(eO.Ql,{value:"Visual & Dimensional",children:"Visual & Dimensional"}),t.jsx(eO.Ql,{value:"Visual & NDT",children:"Visual & NDT"}),t.jsx(eO.Ql,{value:"Full Inspection",children:"Full Inspection"}),t.jsx(eO.Ql,{value:"Dimensional Only",children:"Dimensional Only"}),t.jsx(eO.Ql,{value:"NDT Only",children:"NDT Only"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"certificationLevel",children:"Certification Level"}),(0,t.jsxs)(eO.Ph,{onValueChange:e=>h("certificationLevel",e),children:[t.jsx(eO.i4,{children:t.jsx(eO.ki,{placeholder:"Select certification level"})}),(0,t.jsxs)(eO.Bw,{children:[t.jsx(eO.Ql,{value:"Level 1",children:"Level 1 - Standard"}),t.jsx(eO.Ql,{value:"Level 2",children:"Level 2 - Enhanced"}),t.jsx(eO.Ql,{value:"Level 3",children:"Level 3 - Critical"})]})]})]})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[t.jsx(i.ll,{className:"text-lg",children:"Quality Assessment"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Rate each aspect: 1 = Excellent, 2 = Acceptable, 3 = Needs Attention"})]}),(0,t.jsxs)(i.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx(eA._,{htmlFor:"overallRating",children:"Overall Rating *"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(eO.Ph,{onValueChange:e=>h("overallRating",parseInt(e)),children:[t.jsx(eO.i4,{children:t.jsx(eO.ki,{placeholder:"Select rating"})}),(0,t.jsxs)(eO.Bw,{children:[t.jsx(eO.Ql,{value:"1",children:"1 - Excellent"}),t.jsx(eO.Ql,{value:"2",children:"2 - Acceptable"}),t.jsx(eO.Ql,{value:"3",children:"3 - Needs Attention"})]})]}),j&&t.jsx(n.C,{className:`${v(j)} text-white`,children:b(j)})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx(eA._,{htmlFor:"surfaceQualityRating",children:"Surface Quality *"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(eO.Ph,{onValueChange:e=>h("surfaceQualityRating",parseInt(e)),children:[t.jsx(eO.i4,{children:t.jsx(eO.ki,{placeholder:"Select rating"})}),(0,t.jsxs)(eO.Bw,{children:[t.jsx(eO.Ql,{value:"1",children:"1 - Excellent"}),t.jsx(eO.Ql,{value:"2",children:"2 - Acceptable"}),t.jsx(eO.Ql,{value:"3",children:"3 - Needs Attention"})]})]}),g&&t.jsx(n.C,{className:`${v(g)} text-white`,children:b(g)})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[t.jsx(eA._,{htmlFor:"internalQualityRating",children:"Internal Quality *"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(eO.Ph,{onValueChange:e=>h("internalQualityRating",parseInt(e)),children:[t.jsx(eO.i4,{children:t.jsx(eO.ki,{placeholder:"Select rating"})}),(0,t.jsxs)(eO.Bw,{children:[t.jsx(eO.Ql,{value:"1",children:"1 - Excellent"}),t.jsx(eO.Ql,{value:"2",children:"2 - Acceptable"}),t.jsx(eO.Ql,{value:"3",children:"3 - Needs Attention"})]})]}),f&&t.jsx(n.C,{className:`${v(f)} text-white`,children:b(f)})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"passFailStatus",children:"Pass/Fail Status *"}),(0,t.jsxs)(eO.Ph,{onValueChange:e=>h("passFailStatus",e),children:[t.jsx(eO.i4,{children:t.jsx(eO.ki,{placeholder:"Select pass/fail status"})}),(0,t.jsxs)(eO.Bw,{children:[t.jsx(eO.Ql,{value:"Pass",children:"Pass"}),t.jsx(eO.Ql,{value:"Fail",children:"Fail"}),t.jsx(eO.Ql,{value:"Conditional",children:"Conditional Pass"})]})]})]})]})]}),(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:t.jsx(i.ll,{className:"text-lg",children:"Actions and Notes"})}),(0,t.jsxs)(i.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"correctiveActions",children:"Corrective Actions"}),t.jsx(eC,{id:"correctiveActions",placeholder:"Describe any corrective actions taken or required...",rows:3,...o("correctiveActions")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"notes",children:"Inspection Notes"}),t.jsx(eC,{id:"notes",placeholder:"Additional observations, measurements, or comments...",rows:3,...o("notes")})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[t.jsx(eI.z,{type:"button",variant:"outline",onClick:()=>x(),disabled:e,children:"Clear Form"}),t.jsx(eI.z,{type:"submit",disabled:e,children:e?(0,t.jsxs)(t.Fragment,{children:[t.jsx(eq,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(eE,{className:"mr-2 h-4 w-4"}),"Save Inspection"]})})]})]})}let eK=(0,eR.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var e$=s(42594);function eJ(){let[e,r]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!1),[n,d]=(0,a.useState)([]),[c,o]=(0,a.useState)([]),{register:u,handleSubmit:h,setValue:m,watch:x,reset:p,formState:{errors:j}}=ew(),g=e=>{o(c.filter((r,s)=>s!==e))},f=(e,r,s)=>{let t=[...c];t[e]={...t[e],[r]:s},o(t)},y=async e=>{r(!0),l(!1);try{let r=await fetch("/api/data-entry/maintenance-record",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,currentRpm:parseInt(e.currentRpm.toString()),targetRpm:parseInt(e.targetRpm.toString()),vibrationLevel:parseFloat(e.vibrationLevel.toString()),temperatureReading:parseFloat(e.temperatureReading.toString()),cost:parseFloat(e.cost.toString()),partsReplaced:c.filter(e=>e.part&&e.partNumber)})});if(r.ok)l(!0),p(),o([]),eW({title:"Maintenance Record Saved",description:"Maintenance data has been successfully recorded."}),setTimeout(()=>l(!1),3e3);else{let e=await r.json();throw Error(e.error||"Failed to save maintenance record")}}catch(e){console.error("Error saving maintenance record:",e),eW({title:"Error",description:e instanceof Error?e.message:"Failed to save maintenance record",variant:"destructive"})}finally{r(!1)}};return(0,t.jsxs)("form",{onSubmit:h(y),className:"space-y-6",children:[s&&(0,t.jsxs)(eV,{className:"border-green-200 bg-green-50",children:[t.jsx(eQ.Z,{className:"h-4 w-4 text-green-600"}),t.jsx(eP,{className:"text-green-800",children:"Maintenance record has been successfully saved!"})]}),(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:t.jsx(i.ll,{className:"text-lg",children:"Equipment and Service Details"})}),(0,t.jsxs)(i.aY,{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"spinnerId",children:"Spinner Equipment *"}),(0,t.jsxs)(eO.Ph,{onValueChange:e=>m("spinnerId",e),children:[t.jsx(eO.i4,{children:t.jsx(eO.ki,{placeholder:"Select spinner equipment"})}),t.jsx(eO.Bw,{children:n.map(e=>(0,t.jsxs)(eO.Ql,{value:e.id,children:[e.id," - ",e.equipmentModel," (",e.currentCondition,")"]},e.id))})]}),j.spinnerId&&t.jsx("p",{className:"text-sm text-red-600",children:"Equipment selection is required"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"technicianId",children:"Technician ID *"}),t.jsx(ek.I,{id:"technicianId",placeholder:"e.g., TECH001",...u("technicianId",{required:"Technician ID is required"})}),j.technicianId&&t.jsx("p",{className:"text-sm text-red-600",children:j.technicianId.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"maintenanceDate",children:"Maintenance Date *"}),t.jsx(ek.I,{id:"maintenanceDate",type:"date",...u("maintenanceDate",{required:"Maintenance date is required"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"maintenanceType",children:"Maintenance Type *"}),(0,t.jsxs)(eO.Ph,{onValueChange:e=>m("maintenanceType",e),children:[t.jsx(eO.i4,{children:t.jsx(eO.ki,{placeholder:"Select maintenance type"})}),(0,t.jsxs)(eO.Bw,{children:[t.jsx(eO.Ql,{value:"Routine Inspection",children:"Routine Inspection"}),t.jsx(eO.Ql,{value:"Preventive Maintenance",children:"Preventive Maintenance"}),t.jsx(eO.Ql,{value:"Corrective Maintenance",children:"Corrective Maintenance"}),t.jsx(eO.Ql,{value:"Bearing Replacement",children:"Bearing Replacement"}),t.jsx(eO.Ql,{value:"Lubrication Service",children:"Lubrication Service"}),t.jsx(eO.Ql,{value:"Emergency Repair",children:"Emergency Repair"}),t.jsx(eO.Ql,{value:"Overhaul",children:"Major Overhaul"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"nextServiceDate",children:"Next Service Date"}),t.jsx(ek.I,{id:"nextServiceDate",type:"date",...u("nextServiceDate")})]})]})]}),(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:t.jsx(i.ll,{className:"text-lg",children:"Performance Measurements"})}),(0,t.jsxs)(i.aY,{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"currentRpm",children:"Current RPM"}),t.jsx(ek.I,{id:"currentRpm",type:"number",placeholder:"e.g., 650",...u("currentRpm")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"targetRpm",children:"Target RPM"}),t.jsx(ek.I,{id:"targetRpm",type:"number",placeholder:"e.g., 650",...u("targetRpm")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"vibrationLevel",children:"Vibration Level"}),t.jsx(ek.I,{id:"vibrationLevel",type:"number",step:"0.001",placeholder:"e.g., 2.1",...u("vibrationLevel")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"temperatureReading",children:"Temperature Reading (\xb0C)"}),t.jsx(ek.I,{id:"temperatureReading",type:"number",step:"0.1",placeholder:"e.g., 45.5",...u("temperatureReading")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"cost",children:"Maintenance Cost ($)"}),t.jsx(ek.I,{id:"cost",type:"number",step:"0.01",placeholder:"e.g., 125.00",...u("cost")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"conditionAfterService",children:"Condition After Service"}),(0,t.jsxs)(eO.Ph,{onValueChange:e=>m("conditionAfterService",e),children:[t.jsx(eO.i4,{children:t.jsx(eO.ki,{placeholder:"Select condition"})}),(0,t.jsxs)(eO.Bw,{children:[t.jsx(eO.Ql,{value:"Excellent",children:"Excellent"}),t.jsx(eO.Ql,{value:"Good",children:"Good"}),t.jsx(eO.Ql,{value:"Fair",children:"Fair"}),t.jsx(eO.Ql,{value:"Poor",children:"Poor"})]})]})]})]})]}),(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:(0,t.jsxs)(i.ll,{className:"text-lg flex items-center justify-between",children:["Parts Replaced",(0,t.jsxs)(eI.z,{type:"button",variant:"outline",size:"sm",onClick:()=>{o([...c,{part:"",partNumber:"",quantity:1}])},children:[t.jsx(eK,{className:"h-4 w-4 mr-1"}),"Add Part"]})]})}),t.jsx(i.aY,{children:0===c.length?t.jsx("p",{className:"text-muted-foreground text-center py-4",children:'No parts replaced. Click "Add Part" to record replaced parts.'}):t.jsx("div",{className:"space-y-4",children:c.map((e,r)=>(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-4 items-end border p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{children:"Part Name"}),t.jsx(ek.I,{placeholder:"e.g., Main bearing set",value:e.part,onChange:e=>f(r,"part",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{children:"Part Number"}),t.jsx(ek.I,{placeholder:"e.g., BRG-2000-MS",value:e.partNumber,onChange:e=>f(r,"partNumber",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{children:"Quantity"}),t.jsx(ek.I,{type:"number",min:"1",value:e.quantity,onChange:e=>f(r,"quantity",parseInt(e.target.value)||1)})]}),t.jsx(eI.z,{type:"button",variant:"outline",size:"sm",onClick:()=>g(r),className:"text-red-600 hover:text-red-700",children:t.jsx(e$.Z,{className:"h-4 w-4"})})]},r))})})]}),(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:t.jsx(i.ll,{className:"text-lg",children:"Work Performed and Notes"})}),(0,t.jsxs)(i.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"maintenancePerformed",children:"Maintenance Performed *"}),t.jsx(eC,{id:"maintenancePerformed",placeholder:"Describe the maintenance work performed...",rows:3,...u("maintenancePerformed",{required:"Description of work is required"})}),j.maintenancePerformed&&t.jsx("p",{className:"text-sm text-red-600",children:j.maintenancePerformed.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"notes",children:"Additional Notes"}),t.jsx(eC,{id:"notes",placeholder:"Any additional observations or recommendations...",rows:3,...u("notes")})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[t.jsx(eI.z,{type:"button",variant:"outline",onClick:()=>{p(),o([])},disabled:e,children:"Clear Form"}),t.jsx(eI.z,{type:"submit",disabled:e,children:e?(0,t.jsxs)(t.Fragment,{children:[t.jsx(eq,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(eE,{className:"mr-2 h-4 w-4"}),"Save Maintenance Record"]})})]})]})}function eX(){let[e,r]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!1),{register:n,handleSubmit:d,setValue:c,watch:o,reset:u,formState:{errors:h}}=ew(),m=async e=>{r(!0),l(!1);try{let r=await fetch("/api/data-entry/work-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,customerId:parseInt(e.customerId.toString()),quantityOrdered:parseInt(e.quantityOrdered.toString())})});if(r.ok)l(!0),u(),eW({title:"Work Order Created",description:"Work order has been successfully created."}),setTimeout(()=>l(!1),3e3);else{let e=await r.json();throw Error(e.error||"Failed to create work order")}}catch(e){console.error("Error creating work order:",e),eW({title:"Error",description:e instanceof Error?e.message:"Failed to create work order",variant:"destructive"})}finally{r(!1)}};return(0,t.jsxs)("form",{onSubmit:d(m),className:"space-y-6",children:[s&&(0,t.jsxs)(eV,{className:"border-green-200 bg-green-50",children:[t.jsx(eQ.Z,{className:"h-4 w-4 text-green-600"}),t.jsx(eP,{className:"text-green-800",children:"Work order has been successfully created!"})]}),(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:t.jsx(i.ll,{className:"text-lg",children:"Work Order Information"})}),(0,t.jsxs)(i.aY,{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"workOrderNumber",children:"Work Order Number *"}),t.jsx(ek.I,{id:"workOrderNumber",...n("workOrderNumber",{required:"Work order number is required"}),readOnly:!0,className:"bg-muted"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"customerId",children:"Customer ID *"}),t.jsx(ek.I,{id:"customerId",type:"number",placeholder:"e.g., 1001",...n("customerId",{required:"Customer ID is required",min:{value:1,message:"Customer ID must be positive"}})}),h.customerId&&t.jsx("p",{className:"text-sm text-red-600",children:h.customerId.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"quantityOrdered",children:"Quantity Ordered *"}),t.jsx(ek.I,{id:"quantityOrdered",type:"number",placeholder:"e.g., 5",...n("quantityOrdered",{required:"Quantity is required",min:{value:1,message:"Quantity must be at least 1"}})}),h.quantityOrdered&&t.jsx("p",{className:"text-sm text-red-600",children:h.quantityOrdered.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"priorityLevel",children:"Priority Level"}),(0,t.jsxs)(eO.Ph,{onValueChange:e=>c("priorityLevel",e),children:[t.jsx(eO.i4,{children:t.jsx(eO.ki,{placeholder:"Select priority"})}),(0,t.jsxs)(eO.Bw,{children:[t.jsx(eO.Ql,{value:"High",children:"High"}),t.jsx(eO.Ql,{value:"Medium",children:"Medium"}),t.jsx(eO.Ql,{value:"Low",children:"Low"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"orderDate",children:"Order Date *"}),t.jsx(ek.I,{id:"orderDate",type:"date",...n("orderDate",{required:"Order date is required"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"dueDate",children:"Due Date"}),t.jsx(ek.I,{id:"dueDate",type:"date",...n("dueDate")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"status",children:"Status"}),(0,t.jsxs)(eO.Ph,{onValueChange:e=>c("status",e),children:[t.jsx(eO.i4,{children:t.jsx(eO.ki,{placeholder:"Select status"})}),(0,t.jsxs)(eO.Bw,{children:[t.jsx(eO.Ql,{value:"Scheduled",children:"Scheduled"}),t.jsx(eO.Ql,{value:"In Progress",children:"In Progress"}),t.jsx(eO.Ql,{value:"On Hold",children:"On Hold"}),t.jsx(eO.Ql,{value:"Completed",children:"Completed"}),t.jsx(eO.Ql,{value:"Cancelled",children:"Cancelled"})]})]})]})]})]}),(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:t.jsx(i.ll,{className:"text-lg",children:"Part Specifications"})}),t.jsx(i.aY,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"partSpecification",children:"Part Specification *"}),t.jsx(eC,{id:"partSpecification",placeholder:"Detailed part specifications, dimensions, material requirements, quality standards, etc...",rows:4,...n("partSpecification",{required:"Part specification is required"})}),h.partSpecification&&t.jsx("p",{className:"text-sm text-red-600",children:h.partSpecification.message})]})})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[t.jsx(eI.z,{type:"button",variant:"outline",onClick:()=>u(),disabled:e,children:"Clear Form"}),t.jsx(eI.z,{type:"submit",disabled:e,children:e?(0,t.jsxs)(t.Fragment,{children:[t.jsx(eq,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(eE,{className:"mr-2 h-4 w-4"}),"Create Work Order"]})})]})]})}function e0(){let[e,r]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!1),[n,d]=(0,a.useState)([]),{register:c,handleSubmit:o,setValue:u,watch:h,reset:m,formState:{errors:x}}=ew(),p=async()=>{try{let e=await fetch("/api/data-entry/next-heat-number");if(e.ok){let r=await e.json();u("heatNumber",r.nextHeatNumber),u("qualityCertification",`QC-${new Date().getFullYear()}-${r.nextHeatNumber}`)}}catch(e){console.error("Error generating heat number:",e)}},j=async e=>{r(!0),l(!1);try{let r=await fetch("/api/data-entry/heat-number",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,batchSizeKg:parseFloat(e.batchSizeKg.toString())})});if(r.ok)l(!0),m(),p(),eW({title:"Heat Number Registered",description:"Heat number has been successfully registered."}),setTimeout(()=>l(!1),3e3);else{let e=await r.json();throw Error(e.error||"Failed to register heat number")}}catch(e){console.error("Error registering heat number:",e),eW({title:"Error",description:e instanceof Error?e.message:"Failed to register heat number",variant:"destructive"})}finally{r(!1)}};return(0,t.jsxs)("form",{onSubmit:o(j),className:"space-y-6",children:[s&&(0,t.jsxs)(eV,{className:"border-green-200 bg-green-50",children:[t.jsx(eQ.Z,{className:"h-4 w-4 text-green-600"}),t.jsx(eP,{className:"text-green-800",children:"Heat number has been successfully registered!"})]}),(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:t.jsx(i.ll,{className:"text-lg",children:"Heat Number Information"})}),(0,t.jsxs)(i.aY,{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"heatNumber",children:"Heat Number *"}),t.jsx(ek.I,{id:"heatNumber",...c("heatNumber",{required:"Heat number is required"}),readOnly:!0,className:"bg-muted"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"alloyId",children:"Alloy Type *"}),(0,t.jsxs)(eO.Ph,{onValueChange:e=>u("alloyId",e),children:[t.jsx(eO.i4,{children:t.jsx(eO.ki,{placeholder:"Select alloy type"})}),t.jsx(eO.Bw,{children:n.map(e=>(0,t.jsxs)(eO.Ql,{value:e.id,children:[e.id," - ",e.alloyName]},e.id))})]}),x.alloyId&&t.jsx("p",{className:"text-sm text-red-600",children:"Alloy type is required"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"batchSizeKg",children:"Batch Size (kg) *"}),t.jsx(ek.I,{id:"batchSizeKg",type:"number",step:"0.01",placeholder:"e.g., 450.75",...c("batchSizeKg",{required:"Batch size is required",min:{value:.1,message:"Batch size must be positive"}})}),x.batchSizeKg&&t.jsx("p",{className:"text-sm text-red-600",children:x.batchSizeKg.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"furnaceId",children:"Furnace ID *"}),(0,t.jsxs)(eO.Ph,{onValueChange:e=>u("furnaceId",e),children:[t.jsx(eO.i4,{children:t.jsx(eO.ki,{placeholder:"Select furnace"})}),(0,t.jsxs)(eO.Bw,{children:[t.jsx(eO.Ql,{value:"F001",children:"F001 - Primary Furnace"}),t.jsx(eO.Ql,{value:"F002",children:"F002 - Secondary Furnace"}),t.jsx(eO.Ql,{value:"F003",children:"F003 - Backup Furnace"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"meltDate",children:"Melt Date *"}),t.jsx(ek.I,{id:"meltDate",type:"date",...c("meltDate",{required:"Melt date is required"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"meltTime",children:"Melt Time *"}),t.jsx(ek.I,{id:"meltTime",type:"time",...c("meltTime",{required:"Melt time is required"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"qualityCertification",children:"Quality Certification"}),t.jsx(ek.I,{id:"qualityCertification",...c("qualityCertification"),readOnly:!0,className:"bg-muted"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(eA._,{htmlFor:"status",children:"Status"}),(0,t.jsxs)(eO.Ph,{onValueChange:e=>u("status",e),children:[t.jsx(eO.i4,{children:t.jsx(eO.ki,{placeholder:"Select status"})}),(0,t.jsxs)(eO.Bw,{children:[t.jsx(eO.Ql,{value:"Pending",children:"Pending"}),t.jsx(eO.Ql,{value:"In Progress",children:"In Progress"}),t.jsx(eO.Ql,{value:"Approved",children:"Approved"}),t.jsx(eO.Ql,{value:"Rejected",children:"Rejected"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[t.jsx(eI.z,{type:"button",variant:"outline",onClick:()=>{m(),p()},disabled:e,children:"Clear Form"}),t.jsx(eI.z,{type:"submit",disabled:e,children:e?(0,t.jsxs)(t.Fragment,{children:[t.jsx(eq,{className:"mr-2 h-4 w-4 animate-spin"}),"Registering..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(eE,{className:"mr-2 h-4 w-4"}),"Register Heat Number"]})})]})]})}function e1(){let[e,r]=(0,a.useState)("casting-run"),s=[{id:"casting-run",title:"Casting Run",description:"Production Data Report (PDR)",icon:d.Z,color:"bg-blue-500",count:"Most Used"},{id:"quality-inspection",title:"Quality Inspection",description:"QA assessment and ratings",icon:c.Z,color:"bg-green-500",count:"QA Required"},{id:"maintenance-record",title:"Maintenance Record",description:"Equipment service log",icon:o.Z,color:"bg-orange-500",count:"Scheduled"},{id:"work-order",title:"Work Order",description:"Job tracking and scheduling",icon:u.Z,color:"bg-purple-500",count:"Planning"},{id:"heat-number",title:"Heat Number",description:"Material batch traceability",icon:h.Z,color:"bg-red-500",count:"Traceability"}];return(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:s.map(s=>t.jsx(i.Zb,{className:`cursor-pointer transition-all hover:shadow-md ${e===s.id?"ring-2 ring-primary":""}`,onClick:()=>r(s.id),children:(0,t.jsxs)(i.Ol,{className:"pb-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:`p-2 rounded-lg ${s.color}`,children:t.jsx(s.icon,{className:"h-4 w-4 text-white"})}),t.jsx(n.C,{variant:"secondary",className:"text-xs",children:s.count})]}),t.jsx(i.ll,{className:"text-sm",children:s.title}),t.jsx(i.SZ,{className:"text-xs",children:s.description})]})},s.id))}),(0,t.jsxs)(l.mQ,{value:e,onValueChange:r,children:[t.jsx(l.dr,{className:"grid w-full grid-cols-5 mb-6",children:s.map(e=>(0,t.jsxs)(l.SP,{value:e.id,className:"text-xs",children:[t.jsx(e.icon,{className:"h-3 w-3 mr-1"}),e.title]},e.id))}),t.jsx(l.nU,{value:"casting-run",children:(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)(i.ll,{className:"flex items-center",children:[t.jsx(d.Z,{className:"h-5 w-5 mr-2"}),"Production Data Report (PDR)"]}),t.jsx(i.SZ,{children:"Record casting run details including parameters, materials, and operational data"})]}),t.jsx(i.aY,{children:t.jsx(eY,{})})]})}),t.jsx(l.nU,{value:"quality-inspection",children:(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)(i.ll,{className:"flex items-center",children:[t.jsx(c.Z,{className:"h-5 w-5 mr-2"}),"Quality Inspection Form"]}),t.jsx(i.SZ,{children:"Document quality assessment results and defect identification"})]}),t.jsx(i.aY,{children:t.jsx(eG,{})})]})}),t.jsx(l.nU,{value:"maintenance-record",children:(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)(i.ll,{className:"flex items-center",children:[t.jsx(o.Z,{className:"h-5 w-5 mr-2"}),"Equipment Maintenance Log"]}),t.jsx(i.SZ,{children:"Log maintenance activities, parts replaced, and equipment condition"})]}),t.jsx(i.aY,{children:t.jsx(eJ,{})})]})}),t.jsx(l.nU,{value:"work-order",children:(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)(i.ll,{className:"flex items-center",children:[t.jsx(u.Z,{className:"h-5 w-5 mr-2"}),"Work Order Entry"]}),t.jsx(i.SZ,{children:"Create and manage production work orders and job specifications"})]}),t.jsx(i.aY,{children:t.jsx(eX,{})})]})}),t.jsx(l.nU,{value:"heat-number",children:(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)(i.ll,{className:"flex items-center",children:[t.jsx(h.Z,{className:"h-5 w-5 mr-2"}),"Heat Number Registration"]}),t.jsx(i.SZ,{children:"Register new heat numbers with material batch information"})]}),t.jsx(i.aY,{children:t.jsx(e0,{})})]})})]})]})}},23094:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(71945).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3455:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l});var t=s(83537),a=s(48816);let i=(0,s(88895).createProxy)(String.raw`/home/ubuntu/american_spincast_foundry/app/components/data-entry/data-entry-hub.tsx#DataEntryHub`);function l(){return t.jsx(a.X,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Data Entry"}),t.jsx("p",{className:"text-muted-foreground",children:"Digital forms for production data reports and maintenance logs"})]}),t.jsx(i,{})]})})}}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[372,464,773,844,384],()=>s(17813));module.exports=t})();